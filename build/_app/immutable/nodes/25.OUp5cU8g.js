import{s as be,k as N,l as te,m as ke,d as _,o as B,i as U,j as J,p as we,q as ye,e as S,c as D,A as Ee,a as y,f as n,g as d,t as P,b as z,u as G,D as Ie,h as H,n as le,C as K,F as Se,y as q,z as L}from"../chunks/scheduler.Dz-NSSWT.js";import{S as De,i as Ve,t as Q,a as X,c as ve,g as ge,b as Ce,d as Ne,m as Be,e as Ae}from"../chunks/index.CVQtJBk6.js";import{g as re}from"../chunks/entry.BULDOmPt.js";import{u as Te,g as Ue,a as Me}from"../chunks/index.CpBvPbVH.js";import{S as Pe}from"../chunks/Spinner.CTca_gHl.js";import{d as ie,u as ae,e as ze,W as He,g as x}from"../chunks/index.D2mQNFJF.js";import{t as $}from"../chunks/Toaster.svelte_svelte_type_style_lang.Bxfrv8ue.js";import{g as je}from"../chunks/index.C8OzP8zI.js";import{p as Oe}from"../chunks/stores.Has14q05.js";import{a as Ye}from"../chunks/index.DAXOC6bs.js";function se(o){let e,t=`<div class="flex space-x-2"><div class="self-center"><img crossorigin="anonymous" src="${x}/static/favicon.png" class="w-8 rounded-full" alt="logo"/></div></div>`,i,s,l,r,u,a;const h=[qe,Fe],f=[];function m(c,p){var v,b;return(((v=c[5])==null?void 0:v.features.auth_trusted_header)??!1)||((b=c[5])==null?void 0:b.features.auth)===!1?0:1}return r=m(o),u=f[r]=h[r](o),{c(){e=S("div"),e.innerHTML=t,i=N(),s=S("div"),l=S("div"),u.c(),this.h()},l(c){e=D(c,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-18zumjz"&&(e.innerHTML=t),i=B(c),s=D(c,"DIV",{class:!0});var p=y(s);l=D(p,"DIV",{class:!0});var v=y(l);u.l(v),v.forEach(_),p.forEach(_),this.h()},h(){n(e,"class","fixed m-10 z-50"),n(l,"class","w-full sm:max-w-md px-10 min-h-screen flex flex-col text-center"),n(s,"class","bg-white dark:bg-gray-950 min-h-screen w-full flex justify-center font-primary")},m(c,p){U(c,e,p),U(c,i,p),U(c,s,p),d(s,l),f[r].m(l,null),a=!0},p(c,p){let v=r;r=m(c),r===v?f[r].p(c,p):(ge(),X(f[v],1,1,()=>{f[v]=null}),ve(),u=f[r],u?u.p(c,p):(u=f[r]=h[r](c),u.c()),Q(u,1),u.m(l,null))},i(c){a||(Q(u),a=!0)},o(c){X(u),a=!1},d(c){c&&(_(e),_(i),_(s)),f[r].d()}}}function Fe(o){var T,O,R,W;let e,t,i,s,l=(o[1]==="signin"?o[6].t("Sign in"):o[6].t("Sign up"))+"",r,u,a=o[6].t("to")+"",h,f,m,c,p,v,b,k=Object.keys(((O=(T=o[5])==null?void 0:T.oauth)==null?void 0:O.providers)??{}).length>0,A,M,V=o[1]==="signup"&&oe(o),I=((R=o[5])==null?void 0:R.features.enable_login_form)&&ne(o),E=((W=o[5])==null?void 0:W.features.enable_login_form)&&fe(o),g=k&&ce(o);return{c(){e=S("div"),t=S("form"),i=S("div"),s=S("div"),r=P(l),u=N(),h=P(a),f=N(),m=P(o[7]),c=N(),V&&V.c(),p=N(),I&&I.c(),v=N(),E&&E.c(),b=N(),g&&g.c(),this.h()},l(C){e=D(C,"DIV",{class:!0});var w=y(e);t=D(w,"FORM",{class:!0});var j=y(t);i=D(j,"DIV",{class:!0});var F=y(i);s=D(F,"DIV",{class:!0});var Y=y(s);r=z(Y,l),u=B(Y),h=z(Y,a),f=B(Y),m=z(Y,o[7]),Y.forEach(_),c=B(F),V&&V.l(F),F.forEach(_),p=B(j),I&&I.l(j),v=B(j),E&&E.l(j),j.forEach(_),b=B(w),g&&g.l(w),w.forEach(_),this.h()},h(){n(s,"class","text-2xl font-medium"),n(i,"class","mb-1"),n(t,"class","flex flex-col justify-center"),n(e,"class","my-auto pb-10 w-full dark:text-gray-100")},m(C,w){U(C,e,w),d(e,t),d(t,i),d(i,s),d(s,r),d(s,u),d(s,h),d(s,f),d(s,m),d(i,c),V&&V.m(i,null),d(t,p),I&&I.m(t,null),d(t,v),E&&E.m(t,null),d(e,b),g&&g.m(e,null),A||(M=G(t,"submit",Ie(o[14])),A=!0)},p(C,w){var j,F,Y,Z;w&66&&l!==(l=(C[1]==="signin"?C[6].t("Sign in"):C[6].t("Sign up"))+"")&&H(r,l),w&64&&a!==(a=C[6].t("to")+"")&&H(h,a),w&128&&H(m,C[7]),C[1]==="signup"?V?V.p(C,w):(V=oe(C),V.c(),V.m(i,null)):V&&(V.d(1),V=null),(j=C[5])!=null&&j.features.enable_login_form?I?I.p(C,w):(I=ne(C),I.c(),I.m(t,v)):I&&(I.d(1),I=null),(F=C[5])!=null&&F.features.enable_login_form?E?E.p(C,w):(E=fe(C),E.c(),E.m(t,null)):E&&(E.d(1),E=null),w&32&&(k=Object.keys(((Z=(Y=C[5])==null?void 0:Y.oauth)==null?void 0:Z.providers)??{}).length>0),k?g?g.p(C,w):(g=ce(C),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i:le,o:le,d(C){C&&_(e),V&&V.d(),I&&I.d(),E&&E.d(),g&&g.d(),A=!1,M()}}}function qe(o){let e,t,i,s=o[6].t("Signing in")+"",l,r,u=o[6].t("to")+"",a,h,f,m,c,p,v;return p=new Pe({}),{c(){e=S("div"),t=S("div"),i=S("div"),l=P(s),r=N(),a=P(u),h=N(),f=P(o[7]),m=N(),c=S("div"),Ce(p.$$.fragment),this.h()},l(b){e=D(b,"DIV",{class:!0});var k=y(e);t=D(k,"DIV",{class:!0});var A=y(t);i=D(A,"DIV",{});var M=y(i);l=z(M,s),r=B(M),a=z(M,u),h=B(M),f=z(M,o[7]),M.forEach(_),m=B(A),c=D(A,"DIV",{});var V=y(c);Ne(p.$$.fragment,V),V.forEach(_),A.forEach(_),k.forEach(_),this.h()},h(){n(t,"class","flex items-center justify-center gap-3 text-xl sm:text-2xl text-center font-semibold dark:text-gray-200"),n(e,"class","my-auto pb-10 w-full")},m(b,k){U(b,e,k),d(e,t),d(t,i),d(i,l),d(i,r),d(i,a),d(i,h),d(i,f),d(t,m),d(t,c),Be(p,c,null),v=!0},p(b,k){(!v||k&64)&&s!==(s=b[6].t("Signing in")+"")&&H(l,s),(!v||k&64)&&u!==(u=b[6].t("to")+"")&&H(a,u),(!v||k&128)&&H(f,b[7])},i(b){v||(Q(p.$$.fragment,b),v=!0)},o(b){X(p.$$.fragment,b),v=!1},d(b){b&&_(e),Ae(p)}}}function oe(o){let e,t,i,s,l=o[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"",r;return{c(){e=S("div"),t=P("ⓘ "),i=P(o[7]),s=N(),r=P(l),this.h()},l(u){e=D(u,"DIV",{class:!0});var a=y(e);t=z(a,"ⓘ "),i=z(a,o[7]),s=B(a),r=z(a,l),a.forEach(_),this.h()},h(){n(e,"class","mt-1 text-xs font-medium text-gray-500")},m(u,a){U(u,e,a),d(e,t),d(e,i),d(e,s),d(e,r)},p(u,a){a&128&&H(i,u[7]),a&64&&l!==(l=u[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"")&&H(r,l)},d(u){u&&_(e)}}}function ne(o){let e,t,i,s,l=o[6].t("Email")+"",r,u,a,h,f,m,c,p=o[6].t("Password")+"",v,b,k,A,M,V,I=o[1]==="signup"&&ue(o);return{c(){e=S("div"),I&&I.c(),t=N(),i=S("div"),s=S("div"),r=P(l),u=N(),a=S("input"),f=N(),m=S("div"),c=S("div"),v=P(p),b=N(),k=S("input"),this.h()},l(E){e=D(E,"DIV",{class:!0});var g=y(e);I&&I.l(g),t=B(g),i=D(g,"DIV",{class:!0});var T=y(i);s=D(T,"DIV",{class:!0});var O=y(s);r=z(O,l),O.forEach(_),u=B(T),a=D(T,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),T.forEach(_),f=B(g),m=D(g,"DIV",{});var R=y(m);c=D(R,"DIV",{class:!0});var W=y(c);v=z(W,p),W.forEach(_),b=B(R),k=D(R,"INPUT",{type:!0,class:!0,placeholder:!0,autocomplete:!0}),R.forEach(_),g.forEach(_),this.h()},h(){n(s,"class","text-sm font-medium text-left mb-1"),n(a,"type","email"),n(a,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),n(a,"autocomplete","email"),n(a,"placeholder",h=o[6].t("Enter Your Email")),a.required=!0,n(i,"class","mb-2"),n(c,"class","text-sm font-medium text-left mb-1"),n(k,"type","password"),n(k,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),n(k,"placeholder",A=o[6].t("Enter Your Password")),n(k,"autocomplete","current-password"),k.required=!0,n(e,"class","flex flex-col mt-4")},m(E,g){U(E,e,g),I&&I.m(e,null),d(e,t),d(e,i),d(i,s),d(s,r),d(i,u),d(i,a),K(a,o[3]),d(e,f),d(e,m),d(m,c),d(c,v),d(m,b),d(m,k),K(k,o[4]),M||(V=[G(a,"input",o[11]),G(k,"input",o[12])],M=!0)},p(E,g){E[1]==="signup"?I?I.p(E,g):(I=ue(E),I.c(),I.m(e,t)):I&&(I.d(1),I=null),g&64&&l!==(l=E[6].t("Email")+"")&&H(r,l),g&64&&h!==(h=E[6].t("Enter Your Email"))&&n(a,"placeholder",h),g&8&&a.value!==E[3]&&K(a,E[3]),g&64&&p!==(p=E[6].t("Password")+"")&&H(v,p),g&64&&A!==(A=E[6].t("Enter Your Password"))&&n(k,"placeholder",A),g&16&&k.value!==E[4]&&K(k,E[4])},d(E){E&&_(e),I&&I.d(),M=!1,Se(V)}}}function ue(o){let e,t,i=o[6].t("Name")+"",s,l,r,u,a,h,f,m;return{c(){e=S("div"),t=S("div"),s=P(i),l=N(),r=S("input"),a=N(),h=S("hr"),this.h()},l(c){e=D(c,"DIV",{});var p=y(e);t=D(p,"DIV",{class:!0});var v=y(t);s=z(v,i),v.forEach(_),l=B(p),r=D(p,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),p.forEach(_),a=B(c),h=D(c,"HR",{class:!0}),this.h()},h(){n(t,"class","text-sm font-medium text-left mb-1"),n(r,"type","text"),n(r,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),n(r,"autocomplete","name"),n(r,"placeholder",u=o[6].t("Enter Your Full Name")),r.required=!0,n(h,"class","my-3 dark:border-gray-900")},m(c,p){U(c,e,p),d(e,t),d(t,s),d(e,l),d(e,r),K(r,o[2]),U(c,a,p),U(c,h,p),f||(m=G(r,"input",o[10]),f=!0)},p(c,p){p&64&&i!==(i=c[6].t("Name")+"")&&H(s,i),p&64&&u!==(u=c[6].t("Enter Your Full Name"))&&n(r,"placeholder",u),p&4&&r.value!==c[2]&&K(r,c[2])},d(c){c&&(_(e),_(a),_(h)),f=!1,m()}}}function fe(o){var u;let e,t,i=(o[1]==="signin"?o[6].t("Sign in"):o[6].t("Create Account"))+"",s,l,r=((u=o[5])==null?void 0:u.features.enable_signup)&&de(o);return{c(){e=S("div"),t=S("button"),s=P(i),l=N(),r&&r.c(),this.h()},l(a){e=D(a,"DIV",{class:!0});var h=y(e);t=D(h,"BUTTON",{class:!0,type:!0});var f=y(t);s=z(f,i),f.forEach(_),l=B(h),r&&r.l(h),h.forEach(_),this.h()},h(){n(t,"class","bg-gray-900 hover:bg-gray-800 w-full rounded-2xl text-white font-medium text-sm py-3 transition"),n(t,"type","submit"),n(e,"class","mt-5")},m(a,h){U(a,e,h),d(e,t),d(t,s),d(e,l),r&&r.m(e,null)},p(a,h){var f;h&66&&i!==(i=(a[1]==="signin"?a[6].t("Sign in"):a[6].t("Create Account"))+"")&&H(s,i),(f=a[5])!=null&&f.features.enable_signup?r?r.p(a,h):(r=de(a),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(a){a&&_(e),r&&r.d()}}}function de(o){let e,t=(o[1]==="signin"?o[6].t("Don't have an account?"):o[6].t("Already have an account?"))+"",i,s,l,r=(o[1]==="signin"?o[6].t("Sign up"):o[6].t("Sign in"))+"",u,a,h;return{c(){e=S("div"),i=P(t),s=N(),l=S("button"),u=P(r),this.h()},l(f){e=D(f,"DIV",{class:!0});var m=y(e);i=z(m,t),s=B(m),l=D(m,"BUTTON",{class:!0,type:!0});var c=y(l);u=z(c,r),c.forEach(_),m.forEach(_),this.h()},h(){n(l,"class","font-medium underline"),n(l,"type","button"),n(e,"class","mt-4 text-sm text-center")},m(f,m){U(f,e,m),d(e,i),d(e,s),d(e,l),d(l,u),a||(h=G(l,"click",o[13]),a=!0)},p(f,m){m&66&&t!==(t=(f[1]==="signin"?f[6].t("Don't have an account?"):f[6].t("Already have an account?"))+"")&&H(i,t),m&66&&r!==(r=(f[1]==="signin"?f[6].t("Sign up"):f[6].t("Sign in"))+"")&&H(u,r)},d(f){f&&_(e),a=!1,h()}}}function ce(o){var c,p,v,b,k,A,M,V,I,E;let e,t,i,s,l,r,u,a=((c=o[5])==null?void 0:c.features.enable_login_form)&&he(o),h=((b=(v=(p=o[5])==null?void 0:p.oauth)==null?void 0:v.providers)==null?void 0:b.google)&&pe(o),f=((M=(A=(k=o[5])==null?void 0:k.oauth)==null?void 0:A.providers)==null?void 0:M.microsoft)&&me(o),m=((E=(I=(V=o[5])==null?void 0:V.oauth)==null?void 0:I.providers)==null?void 0:E.oidc)&&_e(o);return{c(){e=S("div"),t=S("hr"),i=N(),a&&a.c(),s=N(),l=S("div"),h&&h.c(),r=N(),f&&f.c(),u=N(),m&&m.c(),this.h()},l(g){e=D(g,"DIV",{class:!0});var T=y(e);t=D(T,"HR",{class:!0}),i=B(T),a&&a.l(T),T.forEach(_),s=B(g),l=D(g,"DIV",{class:!0});var O=y(l);h&&h.l(O),r=B(O),f&&f.l(O),u=B(O),m&&m.l(O),O.forEach(_),this.h()},h(){n(t,"class","w-64 h-px my-8 bg-gray-200 border-0 dark:bg-gray-700"),n(e,"class","inline-flex items-center justify-center w-full"),n(l,"class","flex flex-col space-y-2")},m(g,T){U(g,e,T),d(e,t),d(e,i),a&&a.m(e,null),U(g,s,T),U(g,l,T),h&&h.m(l,null),d(l,r),f&&f.m(l,null),d(l,u),m&&m.m(l,null)},p(g,T){var O,R,W,C,w,j,F,Y,Z,ee;(O=g[5])!=null&&O.features.enable_login_form?a?a.p(g,T):(a=he(g),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(C=(W=(R=g[5])==null?void 0:R.oauth)==null?void 0:W.providers)!=null&&C.google?h?h.p(g,T):(h=pe(g),h.c(),h.m(l,r)):h&&(h.d(1),h=null),(F=(j=(w=g[5])==null?void 0:w.oauth)==null?void 0:j.providers)!=null&&F.microsoft?f?f.p(g,T):(f=me(g),f.c(),f.m(l,u)):f&&(f.d(1),f=null),(ee=(Z=(Y=g[5])==null?void 0:Y.oauth)==null?void 0:Z.providers)!=null&&ee.oidc?m?m.p(g,T):(m=_e(g),m.c(),m.m(l,null)):m&&(m.d(1),m=null)},d(g){g&&(_(e),_(s),_(l)),a&&a.d(),h&&h.d(),f&&f.d(),m&&m.d()}}}function he(o){let e,t=o[6].t("or")+"",i;return{c(){e=S("span"),i=P(t),this.h()},l(s){e=D(s,"SPAN",{class:!0});var l=y(e);i=z(l,t),l.forEach(_),this.h()},h(){n(e,"class","absolute px-3 font-medium text-gray-900 -translate-x-1/2 bg-white left-1/2 dark:text-white dark:bg-gray-950")},m(s,l){U(s,e,l),d(e,i)},p(s,l){l&64&&t!==(t=s[6].t("or")+"")&&H(i,t)},d(s){s&&_(e)}}}function pe(o){let e,t,i,s,l,r,u,a,h,f=o[6].t("Continue with {{provider}}",{provider:"Google"})+"",m,c,p;return{c(){e=S("button"),t=q("svg"),i=q("path"),s=q("path"),l=q("path"),r=q("path"),u=q("path"),a=N(),h=S("span"),m=P(f),this.h()},l(v){e=D(v,"BUTTON",{class:!0});var b=y(e);t=L(b,"svg",{xmlns:!0,viewBox:!0,class:!0});var k=y(t);i=L(k,"path",{fill:!0,d:!0}),y(i).forEach(_),s=L(k,"path",{fill:!0,d:!0}),y(s).forEach(_),l=L(k,"path",{fill:!0,d:!0}),y(l).forEach(_),r=L(k,"path",{fill:!0,d:!0}),y(r).forEach(_),u=L(k,"path",{fill:!0,d:!0}),y(u).forEach(_),k.forEach(_),a=B(b),h=D(b,"SPAN",{});var A=y(h);m=z(A,f),A.forEach(_),b.forEach(_),this.h()},h(){n(i,"fill","#EA4335"),n(i,"d","M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"),n(s,"fill","#4285F4"),n(s,"d","M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"),n(l,"fill","#FBBC05"),n(l,"d","M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"),n(r,"fill","#34A853"),n(r,"d","M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"),n(u,"fill","none"),n(u,"d","M0 0h48v48H0z"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"viewBox","0 0 48 48"),n(t,"class","size-6 mr-3"),n(e,"class","flex items-center px-6 border-2 dark:border-gray-800 duration-300 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 w-full rounded-2xl dark:text-white text-sm py-3 transition")},m(v,b){U(v,e,b),d(e,t),d(t,i),d(t,s),d(t,l),d(t,r),d(t,u),d(e,a),d(e,h),d(h,m),c||(p=G(e,"click",o[15]),c=!0)},p(v,b){b&64&&f!==(f=v[6].t("Continue with {{provider}}",{provider:"Google"})+"")&&H(m,f)},d(v){v&&_(e),c=!1,p()}}}function me(o){let e,t,i,s,l,r,u,a,h=o[6].t("Continue with {{provider}}",{provider:"Microsoft"})+"",f,m,c;return{c(){e=S("button"),t=q("svg"),i=q("rect"),s=q("rect"),l=q("rect"),r=q("rect"),u=N(),a=S("span"),f=P(h),this.h()},l(p){e=D(p,"BUTTON",{class:!0});var v=y(e);t=L(v,"svg",{xmlns:!0,viewBox:!0,class:!0});var b=y(t);i=L(b,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),y(i).forEach(_),s=L(b,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),y(s).forEach(_),l=L(b,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),y(l).forEach(_),r=L(b,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),y(r).forEach(_),b.forEach(_),u=B(v),a=D(v,"SPAN",{});var k=y(a);f=z(k,h),k.forEach(_),v.forEach(_),this.h()},h(){n(i,"x","1"),n(i,"y","1"),n(i,"width","9"),n(i,"height","9"),n(i,"fill","#f25022"),n(s,"x","1"),n(s,"y","11"),n(s,"width","9"),n(s,"height","9"),n(s,"fill","#00a4ef"),n(l,"x","11"),n(l,"y","1"),n(l,"width","9"),n(l,"height","9"),n(l,"fill","#7fba00"),n(r,"x","11"),n(r,"y","11"),n(r,"width","9"),n(r,"height","9"),n(r,"fill","#ffb900"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"viewBox","0 0 21 21"),n(t,"class","size-6 mr-3"),n(e,"class","flex items-center px-6 border-2 dark:border-gray-800 duration-300 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 w-full rounded-2xl dark:text-white text-sm py-3 transition")},m(p,v){U(p,e,v),d(e,t),d(t,i),d(t,s),d(t,l),d(t,r),d(e,u),d(e,a),d(a,f),m||(c=G(e,"click",o[16]),m=!0)},p(p,v){v&64&&h!==(h=p[6].t("Continue with {{provider}}",{provider:"Microsoft"})+"")&&H(f,h)},d(p){p&&_(e),m=!1,c()}}}function _e(o){var f,m,c;let e,t,i,s,l,r=o[6].t("Continue with {{provider}}",{provider:((c=(m=(f=o[5])==null?void 0:f.oauth)==null?void 0:m.providers)==null?void 0:c.oidc)??"SSO"})+"",u,a,h;return{c(){e=S("button"),t=q("svg"),i=q("path"),s=N(),l=S("span"),u=P(r),this.h()},l(p){e=D(p,"BUTTON",{class:!0});var v=y(e);t=L(v,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var b=y(t);i=L(b,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),y(i).forEach(_),b.forEach(_),s=B(v),l=D(v,"SPAN",{});var k=y(l);u=z(k,r),k.forEach(_),v.forEach(_),this.h()},h(){n(i,"stroke-linecap","round"),n(i,"stroke-linejoin","round"),n(i,"d","M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"fill","none"),n(t,"viewBox","0 0 24 24"),n(t,"stroke-width","1.5"),n(t,"stroke","currentColor"),n(t,"class","size-6 mr-3"),n(e,"class","flex items-center px-6 border-2 dark:border-gray-800 duration-300 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 w-full rounded-2xl dark:text-white text-sm py-3 transition")},m(p,v){U(p,e,v),d(e,t),d(t,i),d(e,s),d(e,l),d(l,u),a||(h=G(e,"click",o[17]),a=!0)},p(p,v){var b,k,A;v&96&&r!==(r=p[6].t("Continue with {{provider}}",{provider:((A=(k=(b=p[5])==null?void 0:b.oauth)==null?void 0:k.providers)==null?void 0:A.oidc)??"SSO"})+"")&&H(u,r)},d(p){p&&_(e),a=!1,h()}}}function Le(o){let e,t,i,s;document.title=e=`
		${o[7]}
	`;let l=o[0]&&se(o);return{c(){t=N(),l&&l.c(),i=te()},l(r){ke("svelte-sdpf07",document.head).forEach(_),t=B(r),l&&l.l(r),i=te()},m(r,u){U(r,t,u),l&&l.m(r,u),U(r,i,u),s=!0},p(r,[u]){(!s||u&128)&&e!==(e=`
		${r[7]}
	`)&&(document.title=e),r[0]?l?(l.p(r,u),u&1&&Q(l,1)):(l=se(r),l.c(),Q(l,1),l.m(i.parentNode,i)):l&&(ge(),X(l,1,1,()=>{l=null}),ve())},i(r){s||(Q(l),s=!0)},o(r){X(l),s=!1},d(r){r&&(_(t),_(i)),l&&l.d(r)}}}function Re(o,e,t){let i,s,l,r,u,a;J(o,ie,w=>t(5,i=w)),J(o,ae,w=>t(18,s=w)),J(o,Oe,w=>t(19,l=w)),J(o,ze,w=>t(20,r=w)),J(o,He,w=>t(7,a=w));const h=we("i18n");J(o,h,w=>t(6,u=w));let f=!1,m="signin",c="",p="",v="";const b=async w=>{w&&(console.log(w),$.success(u.t("You're now logged in.")),w.token&&(localStorage.token=w.token),r.emit("user-join",{auth:{token:w.token}}),await ae.set(w),await ie.set(await Ye()),re("/"))},k=async()=>{const w=await Te(p,v).catch(j=>($.error(j),null));await b(w)},A=async()=>{const w=await Me(c,p,v,je(c)).catch(j=>($.error(j),null));await b(w)},M=async()=>{m==="signin"?await k():await A()},V=async()=>{if(!l.url.hash)return;const w=l.url.hash.substring(1);if(!w)return;const F=new URLSearchParams(w).get("token");if(!F)return;const Y=await Ue(F).catch(Z=>($.error(Z),null));Y&&(localStorage.token=F,await b(Y))};ye(async()=>{s!==void 0&&await re("/"),await V(),t(0,f=!0),(((i==null?void 0:i.features.auth_trusted_header)??!1)||(i==null?void 0:i.features.auth)===!1)&&await k()});function I(){c=this.value,t(2,c)}function E(){p=this.value,t(3,p)}function g(){v=this.value,t(4,v)}return[f,m,c,p,v,i,u,a,h,M,I,E,g,()=>{m==="signin"?t(1,m="signup"):t(1,m="signin")},()=>{M()},()=>{window.location.href=`${x}/oauth/google/login`},()=>{window.location.href=`${x}/oauth/microsoft/login`},()=>{window.location.href=`${x}/oauth/oidc/login`}]}class tt extends De{constructor(e){super(),Ve(this,e,Re,Le,be,{})}}export{tt as component};
//# sourceMappingURL=25.OUp5cU8g.js.map
