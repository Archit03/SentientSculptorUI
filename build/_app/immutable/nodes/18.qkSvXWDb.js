import{s as la,e as d,k as w,t as P,c as _,a as m,o as I,A as Gt,b as M,d as f,f as c,i as O,g as n,u as K,h as C,F as Rl,j as Yt,p as sa,q as aa,B as Nt,C as ge,D as ra,E as Kt,H as zl,I as na,J as Ss,n as Jl,K as oa,y as Ns,z as Ps,L as Ms,l as Bs}from"../chunks/scheduler.Dz-NSSWT.js";import{S as ia,i as ca,t as Y,a as se,c as Ll,f as Zt,b as tt,d as lt,m as st,g as Fl,e as at}from"../chunks/index.CVQtJBk6.js";import{e as Pt}from"../chunks/each.CwcyO-D0.js";import{t as fa}from"../chunks/Toaster.svelte_svelte_type_style_lang.Bxfrv8ue.js";import{g as bl}from"../chunks/entry.BULDOmPt.js";import{p as ua}from"../chunks/stores.Has14q05.js";import{m as Cs,t as da,f as _a}from"../chunks/index.D2mQNFJF.js";import"../chunks/sha256.CRlV3BEV.js";import{u as pa}from"../chunks/index.BIafGiw0.js";import{A as ma}from"../chunks/AdvancedParams.C32wXVZZ.js";import{g as ha}from"../chunks/index.DAXOC6bs.js";import{C as ga}from"../chunks/Checkbox.W3Q7q_uq.js";import{T as va}from"../chunks/Tags.rNughajE.js";import{K as ba,T as ka,F as wa,A as Ia}from"../chunks/ActionsSelector.cLQSv1hM.js";function Os(l,e,t){const a=l.slice();return a[50]=e[t],a}function js(l,e,t){const a=l.slice();return a[53]=e[t],a[54]=e,a[55]=t,a}function Hs(l,e,t){const a=l.slice();return a[18]=e[t],a}function Us(l){var es,ts,ls,ss,as,rs;let e,t,a,s,r,h,b,k,T,E=l[15].t("Name")+"",D,A,N,p,g,V,o,y,j,Z=l[15].t("Model ID")+"",G,ve,be,Ce,x,rt,Mt,nt,oe,ke,Oe,Ye=l[15].t("Description")+"",ot,Bt,ie,Ct,Ot,it,jt,we,je,He,Ke=l[15].t("Model Params")+"",ct,Ht,ee,ye,Ze,ft=l[15].t("System Prompt")+"",Ut,Qt,v,S,Ue,F,$,Ie=l[15].t("Advanced Params")+"",ce,fe,R,Le,Fe,Ee,ut,ae,re,ue,De,Re=l[15].t("Prompt suggestions")+"",Ge,dt,ne,_t,Lt,kl,pt,Ve,wl,Il,mt,Te,yl,El,ht,Ae,Dl,Vl,gt,Se,Tl,Al,ze,vt,bt,Ft=l[15].t("Capabilities")+"",$t,Sl,Qe,Nl,Je,kt,wt,Rt=l[15].t("Tags")+"",xt,Pl,It,qe,Ml,Ne,We,yt,zt=l[15].t("JSON Preview")+"",el,Bl,Pe,Cl,Ol,Et,te,Dt,Jt=l[15].t("Save & Update")+"",tl,jl,ll,H,Hl,ql;function Wl(i,u){return i[7].meta.profile_image_url?Ea:ya}let sl=Wl(l),de=sl(l),z=l[18].preset&&Ls(l);function Xl(i,u){return i[7].meta.description===null?Va:Da}let al=Xl(l),_e=al(l),J=l[7].meta.description!==null&&Rs(l);function Yl(i,u){return i[3]?Aa:Ta}let rl=Yl(l),pe=rl(l),U=l[3]&&zs(l);function Kl(i,u){var le,Me;return(((Me=(le=i[7])==null?void 0:le.meta)==null?void 0:Me.suggestion_prompts)??null)===null?Na:Sa}let nl=Kl(l),me=nl(l),q=(((ts=(es=l[7])==null?void 0:es.meta)==null?void 0:ts.suggestion_prompts)??null)!==null&&Js(l),W=((ss=(ls=l[7])==null?void 0:ls.meta)==null?void 0:ss.suggestion_prompts)&&qs(l);function Qs(i){l[39](i)}let Zl={};l[10]!==void 0&&(Zl.knowledge=l[10]),Ve=new ba({props:Zl}),Nt.push(()=>Zt(Ve,"knowledge",Qs));function $s(i){l[40](i)}let Gl={tools:l[16]};l[11]!==void 0&&(Gl.selectedToolIds=l[11]),Te=new ka({props:Gl}),Nt.push(()=>Zt(Te,"selectedToolIds",$s));function xs(i){l[41](i)}let Ql={filters:l[17].filter(Zs)};l[12]!==void 0&&(Ql.selectedFilterIds=l[12]),Ae=new wa({props:Ql}),Nt.push(()=>Zt(Ae,"selectedFilterIds",xs));function ea(i){l[42](i)}let $l={actions:l[17].filter(Gs)};l[13]!==void 0&&($l.selectedActionIds=l[13]),Se=new Ia({props:$l}),Nt.push(()=>Zt(Se,"selectedActionIds",ea));let $e=Pt(Object.keys(l[9])),B=[];for(let i=0;i<$e.length;i+=1)B[i]=Xs(Os(l,$e,i));const ta=i=>se(B[i],1,1,()=>{B[i]=null});qe=new va({props:{tags:((rs=(as=l[7])==null?void 0:as.meta)==null?void 0:rs.tags)??[],deleteTag:l[44],addTag:l[45]}});function xl(i,u){return i[4]?Ca:Ba}let ol=xl(l),he=ol(l),X=l[4]&&Ys(l),Q=l[0]&&Ks();return{c(){e=d("form"),t=d("div"),a=d("div"),s=d("button"),de.c(),h=w(),b=d("div"),k=d("div"),T=d("div"),D=P(E),A=P("*"),N=w(),p=d("div"),g=d("input"),o=w(),y=d("div"),j=d("div"),G=P(Z),ve=P("*"),be=w(),Ce=d("div"),x=d("input"),Mt=w(),z&&z.c(),nt=w(),oe=d("div"),ke=d("div"),Oe=d("div"),ot=P(Ye),Bt=w(),ie=d("button"),_e.c(),Ct=w(),J&&J.c(),Ot=w(),it=d("hr"),jt=w(),we=d("div"),je=d("div"),He=d("div"),ct=P(Ke),Ht=w(),ee=d("div"),ye=d("div"),Ze=d("div"),Ut=P(ft),Qt=w(),v=d("div"),S=d("textarea"),Ue=w(),F=d("div"),$=d("div"),ce=P(Ie),fe=w(),R=d("button"),pe.c(),Le=w(),U&&U.c(),Fe=w(),Ee=d("hr"),ut=w(),ae=d("div"),re=d("div"),ue=d("div"),De=d("div"),Ge=P(Re),dt=w(),ne=d("button"),me.c(),_t=w(),q&&q.c(),Lt=w(),W&&W.c(),kl=w(),pt=d("div"),tt(Ve.$$.fragment),Il=w(),mt=d("div"),tt(Te.$$.fragment),El=w(),ht=d("div"),tt(Ae.$$.fragment),Vl=w(),gt=d("div"),tt(Se.$$.fragment),Al=w(),ze=d("div"),vt=d("div"),bt=d("div"),$t=P(Ft),Sl=w(),Qe=d("div");for(let i=0;i<B.length;i+=1)B[i].c();Nl=w(),Je=d("div"),kt=d("div"),wt=d("div"),xt=P(Rt),Pl=w(),It=d("div"),tt(qe.$$.fragment),Ml=w(),Ne=d("div"),We=d("div"),yt=d("div"),el=P(zt),Bl=w(),Pe=d("button"),he.c(),Cl=w(),X&&X.c(),Ol=w(),Et=d("div"),te=d("button"),Dt=d("div"),tl=P(Jt),jl=w(),Q&&Q.c(),this.h()},l(i){e=_(i,"FORM",{class:!0});var u=m(e);t=_(u,"DIV",{class:!0});var le=m(t);a=_(le,"DIV",{class:!0});var Me=m(a);s=_(Me,"BUTTON",{class:!0,type:!0});var Vt=m(s);de.l(Vt),Vt.forEach(f),Me.forEach(f),le.forEach(f),h=I(u),b=_(u,"DIV",{class:!0});var Xe=m(b);k=_(Xe,"DIV",{class:!0});var Be=m(k);T=_(Be,"DIV",{class:!0});var Tt=m(T);D=M(Tt,E),A=M(Tt,"*"),Tt.forEach(f),N=I(Be),p=_(Be,"DIV",{});var qt=m(p);g=_(qt,"INPUT",{class:!0,placeholder:!0}),qt.forEach(f),Be.forEach(f),o=I(Xe),y=_(Xe,"DIV",{class:!0});var xe=m(y);j=_(xe,"DIV",{class:!0});var At=m(j);G=M(At,Z),ve=M(At,"*"),At.forEach(f),be=I(xe),Ce=_(xe,"DIV",{});var Wt=m(Ce);x=_(Wt,"INPUT",{class:!0,placeholder:!0}),Wt.forEach(f),xe.forEach(f),Xe.forEach(f),Mt=I(u),z&&z.l(u),nt=I(u),oe=_(u,"DIV",{class:!0});var et=m(oe);ke=_(et,"DIV",{class:!0});var L=m(ke);Oe=_(L,"DIV",{class:!0});var Xt=m(Oe);ot=M(Xt,Ye),Xt.forEach(f),Bt=I(L),ie=_(L,"BUTTON",{class:!0,type:!0});var ns=m(ie);_e.l(ns),ns.forEach(f),L.forEach(f),Ct=I(et),J&&J.l(et),et.forEach(f),Ot=I(u),it=_(u,"HR",{class:!0}),jt=I(u),we=_(u,"DIV",{class:!0});var il=m(we);je=_(il,"DIV",{class:!0});var os=m(je);He=_(os,"DIV",{class:!0});var is=m(He);ct=M(is,Ke),is.forEach(f),os.forEach(f),Ht=I(il),ee=_(il,"DIV",{class:!0});var St=m(ee);ye=_(St,"DIV",{class:!0});var cl=m(ye);Ze=_(cl,"DIV",{class:!0});var cs=m(Ze);Ut=M(cs,ft),cs.forEach(f),Qt=I(cl),v=_(cl,"DIV",{});var fs=m(v);S=_(fs,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),m(S).forEach(f),fs.forEach(f),cl.forEach(f),Ue=I(St),F=_(St,"DIV",{class:!0});var fl=m(F);$=_(fl,"DIV",{class:!0});var us=m($);ce=M(us,Ie),us.forEach(f),fe=I(fl),R=_(fl,"BUTTON",{class:!0,type:!0});var ds=m(R);pe.l(ds),ds.forEach(f),fl.forEach(f),Le=I(St),U&&U.l(St),St.forEach(f),il.forEach(f),Fe=I(u),Ee=_(u,"HR",{class:!0}),ut=I(u),ae=_(u,"DIV",{class:!0});var ul=m(ae);re=_(ul,"DIV",{class:!0});var dl=m(re);ue=_(dl,"DIV",{class:!0});var _l=m(ue);De=_(_l,"DIV",{class:!0});var _s=m(De);Ge=M(_s,Re),_s.forEach(f),dt=I(_l),ne=_(_l,"BUTTON",{class:!0,type:!0});var ps=m(ne);me.l(ps),ps.forEach(f),_l.forEach(f),_t=I(dl),q&&q.l(dl),dl.forEach(f),Lt=I(ul),W&&W.l(ul),ul.forEach(f),kl=I(u),pt=_(u,"DIV",{class:!0});var ms=m(pt);lt(Ve.$$.fragment,ms),ms.forEach(f),Il=I(u),mt=_(u,"DIV",{class:!0});var hs=m(mt);lt(Te.$$.fragment,hs),hs.forEach(f),El=I(u),ht=_(u,"DIV",{class:!0});var gs=m(ht);lt(Ae.$$.fragment,gs),gs.forEach(f),Vl=I(u),gt=_(u,"DIV",{class:!0});var vs=m(gt);lt(Se.$$.fragment,vs),vs.forEach(f),Al=I(u),ze=_(u,"DIV",{class:!0});var pl=m(ze);vt=_(pl,"DIV",{class:!0});var bs=m(vt);bt=_(bs,"DIV",{class:!0});var ks=m(bt);$t=M(ks,Ft),ks.forEach(f),bs.forEach(f),Sl=I(pl),Qe=_(pl,"DIV",{class:!0});var ws=m(Qe);for(let Ul=0;Ul<B.length;Ul+=1)B[Ul].l(ws);ws.forEach(f),pl.forEach(f),Nl=I(u),Je=_(u,"DIV",{class:!0});var ml=m(Je);kt=_(ml,"DIV",{class:!0});var Is=m(kt);wt=_(Is,"DIV",{class:!0});var ys=m(wt);xt=M(ys,Rt),ys.forEach(f),Is.forEach(f),Pl=I(ml),It=_(ml,"DIV",{class:!0});var Es=m(It);lt(qe.$$.fragment,Es),Es.forEach(f),ml.forEach(f),Ml=I(u),Ne=_(u,"DIV",{class:!0});var hl=m(Ne);We=_(hl,"DIV",{class:!0});var gl=m(We);yt=_(gl,"DIV",{class:!0});var Ds=m(yt);el=M(Ds,zt),Ds.forEach(f),Bl=I(gl),Pe=_(gl,"BUTTON",{class:!0,type:!0});var Vs=m(Pe);he.l(Vs),Vs.forEach(f),gl.forEach(f),Cl=I(hl),X&&X.l(hl),hl.forEach(f),Ol=I(u),Et=_(u,"DIV",{class:!0});var Ts=m(Et);te=_(Ts,"BUTTON",{class:!0,type:!0});var vl=m(te);Dt=_(vl,"DIV",{class:!0});var As=m(Dt);tl=M(As,Jt),As.forEach(f),jl=I(vl),Q&&Q.l(vl),vl.forEach(f),Ts.forEach(f),u.forEach(f),this.h()},h(){c(s,"class",r=(l[7].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"),c(s,"type","button"),c(a,"class","self-center"),c(t,"class","flex justify-center my-4"),c(T,"class","text-sm font-semibold mb-1"),c(g,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),c(g,"placeholder",V=l[15].t("Name your model")),g.required=!0,c(k,"class","flex-1"),c(j,"class","text-sm font-semibold mb-1"),c(x,"class","px-3 py-1.5 text-sm w-full bg-transparent disabled:text-gray-500 border dark:border-gray-600 outline-none rounded-lg"),c(x,"placeholder",rt=l[15].t("Add a model id")),x.value=l[5],x.disabled=!0,x.required=!0,c(y,"class","flex-1"),c(b,"class","mt-2 my-1 flex space-x-2"),c(Oe,"class","self-center text-sm font-semibold"),c(ie,"class","p-1 text-xs flex rounded transition"),c(ie,"type","button"),c(ke,"class","flex w-full justify-between items-center"),c(oe,"class","my-1"),c(it,"class","dark:border-gray-850 my-1"),c(He,"class","self-center text-sm font-semibold"),c(je,"class","flex w-full justify-between"),c(Ze,"class","text-xs font-semibold mb-2"),c(S,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),c(S,"placeholder",`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),c(S,"rows","4"),c(ye,"class","my-1"),c($,"class","self-center text-xs font-semibold"),c(R,"class","p-1 px-3 text-xs flex rounded transition"),c(R,"type","button"),c(F,"class","flex w-full justify-between"),c(ee,"class","mt-2"),c(we,"class","my-2"),c(Ee,"class","dark:border-gray-850 my-1"),c(De,"class","self-center text-sm font-semibold"),c(ne,"class","p-1 text-xs flex rounded transition"),c(ne,"type","button"),c(ue,"class","flex w-full justify-between items-center"),c(re,"class","flex w-full justify-between items-center"),c(ae,"class","my-2"),c(pt,"class","my-2"),c(mt,"class","my-2"),c(ht,"class","my-2"),c(gt,"class","my-2"),c(bt,"class","self-center text-sm font-semibold"),c(vt,"class","flex w-full justify-between mb-1"),c(Qe,"class","flex flex-col"),c(ze,"class","my-2"),c(wt,"class","self-center text-sm font-semibold"),c(kt,"class","flex w-full justify-between items-center"),c(It,"class","mt-2"),c(Je,"class","my-1"),c(yt,"class","self-center text-sm font-semibold"),c(Pe,"class","p-1 px-3 text-xs flex rounded transition"),c(Pe,"type","button"),c(We,"class","flex w-full justify-between mb-2"),c(Ne,"class","my-2 text-gray-300 dark:text-gray-700"),c(Dt,"class","self-center font-medium"),c(te,"class",ll="text-sm px-3 py-2 transition rounded-xl "+(l[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),c(te,"type","submit"),te.disabled=l[0],c(Et,"class","my-2 flex justify-end mb-20"),c(e,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10")},m(i,u){O(i,e,u),n(e,t),n(t,a),n(a,s),de.m(s,null),n(e,h),n(e,b),n(b,k),n(k,T),n(T,D),n(T,A),n(k,N),n(k,p),n(p,g),ge(g,l[6]),n(b,o),n(b,y),n(y,j),n(j,G),n(j,ve),n(y,be),n(y,Ce),n(Ce,x),n(e,Mt),z&&z.m(e,null),n(e,nt),n(e,oe),n(oe,ke),n(ke,Oe),n(Oe,ot),n(ke,Bt),n(ke,ie),_e.m(ie,null),n(oe,Ct),J&&J.m(oe,null),n(e,Ot),n(e,it),n(e,jt),n(e,we),n(we,je),n(je,He),n(He,ct),n(we,Ht),n(we,ee),n(ee,ye),n(ye,Ze),n(Ze,Ut),n(ye,Qt),n(ye,v),n(v,S),ge(S,l[7].params.system),n(ee,Ue),n(ee,F),n(F,$),n($,ce),n(F,fe),n(F,R),pe.m(R,null),n(ee,Le),U&&U.m(ee,null),n(e,Fe),n(e,Ee),n(e,ut),n(e,ae),n(ae,re),n(re,ue),n(ue,De),n(De,Ge),n(ue,dt),n(ue,ne),me.m(ne,null),n(re,_t),q&&q.m(re,null),n(ae,Lt),W&&W.m(ae,null),n(e,kl),n(e,pt),st(Ve,pt,null),n(e,Il),n(e,mt),st(Te,mt,null),n(e,El),n(e,ht),st(Ae,ht,null),n(e,Vl),n(e,gt),st(Se,gt,null),n(e,Al),n(e,ze),n(ze,vt),n(vt,bt),n(bt,$t),n(ze,Sl),n(ze,Qe);for(let le=0;le<B.length;le+=1)B[le]&&B[le].m(Qe,null);n(e,Nl),n(e,Je),n(Je,kt),n(kt,wt),n(wt,xt),n(Je,Pl),n(Je,It),st(qe,It,null),n(e,Ml),n(e,Ne),n(Ne,We),n(We,yt),n(yt,el),n(We,Bl),n(We,Pe),he.m(Pe,null),n(Ne,Cl),X&&X.m(Ne,null),n(e,Ol),n(e,Et),n(Et,te),n(te,Dt),n(Dt,tl),n(te,jl),Q&&Q.m(te,null),H=!0,Hl||(ql=[K(s,"click",l[25]),K(g,"input",l[26]),K(ie,"click",l[29]),K(S,"input",l[31]),K(R,"click",l[32]),K(ne,"click",l[35]),K(Pe,"click",l[46]),K(e,"submit",ra(l[47]))],Hl=!0)},p(i,u){var Tt,qt,xe,At,Wt,et;sl===(sl=Wl(i))&&de?de.p(i,u):(de.d(1),de=sl(i),de&&(de.c(),de.m(s,null))),(!H||u[0]&16512&&r!==(r=(i[7].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"))&&c(s,"class",r),(!H||u[0]&32768)&&E!==(E=i[15].t("Name")+"")&&C(D,E),(!H||u[0]&32768&&V!==(V=i[15].t("Name your model")))&&c(g,"placeholder",V),u[0]&64&&g.value!==i[6]&&ge(g,i[6]),(!H||u[0]&32768)&&Z!==(Z=i[15].t("Model ID")+"")&&C(G,Z),(!H||u[0]&32768&&rt!==(rt=i[15].t("Add a model id")))&&c(x,"placeholder",rt),(!H||u[0]&32&&x.value!==i[5])&&(x.value=i[5]),i[18].preset?z?z.p(i,u):(z=Ls(i),z.c(),z.m(e,nt)):z&&(z.d(1),z=null),(!H||u[0]&32768)&&Ye!==(Ye=i[15].t("Description")+"")&&C(ot,Ye),al===(al=Xl(i))&&_e?_e.p(i,u):(_e.d(1),_e=al(i),_e&&(_e.c(),_e.m(ie,null))),i[7].meta.description!==null?J?J.p(i,u):(J=Rs(i),J.c(),J.m(oe,null)):J&&(J.d(1),J=null),(!H||u[0]&32768)&&Ke!==(Ke=i[15].t("Model Params")+"")&&C(ct,Ke),(!H||u[0]&32768)&&ft!==(ft=i[15].t("System Prompt")+"")&&C(Ut,ft),u[0]&16512&&ge(S,i[7].params.system),(!H||u[0]&32768)&&Ie!==(Ie=i[15].t("Advanced Params")+"")&&C(ce,Ie),rl===(rl=Yl(i))&&pe?pe.p(i,u):(pe.d(1),pe=rl(i),pe&&(pe.c(),pe.m(R,null))),i[3]?U?(U.p(i,u),u[0]&8&&Y(U,1)):(U=zs(i),U.c(),Y(U,1),U.m(ee,null)):U&&(Fl(),se(U,1,1,()=>{U=null}),Ll()),(!H||u[0]&32768)&&Re!==(Re=i[15].t("Prompt suggestions")+"")&&C(Ge,Re),nl===(nl=Kl(i))&&me?me.p(i,u):(me.d(1),me=nl(i),me&&(me.c(),me.m(ne,null))),(((qt=(Tt=i[7])==null?void 0:Tt.meta)==null?void 0:qt.suggestion_prompts)??null)!==null?q?q.p(i,u):(q=Js(i),q.c(),q.m(re,null)):q&&(q.d(1),q=null),(At=(xe=i[7])==null?void 0:xe.meta)!=null&&At.suggestion_prompts?W?W.p(i,u):(W=qs(i),W.c(),W.m(ae,null)):W&&(W.d(1),W=null);const le={};!wl&&u[0]&1024&&(wl=!0,le.knowledge=i[10],Kt(()=>wl=!1)),Ve.$set(le);const Me={};u[0]&65536&&(Me.tools=i[16]),!yl&&u[0]&2048&&(yl=!0,Me.selectedToolIds=i[11],Kt(()=>yl=!1)),Te.$set(Me);const Vt={};u[0]&131072&&(Vt.filters=i[17].filter(Zs)),!Dl&&u[0]&4096&&(Dl=!0,Vt.selectedFilterIds=i[12],Kt(()=>Dl=!1)),Ae.$set(Vt);const Xe={};if(u[0]&131072&&(Xe.actions=i[17].filter(Gs)),!Tl&&u[0]&8192&&(Tl=!0,Xe.selectedActionIds=i[13],Kt(()=>Tl=!1)),Se.$set(Xe),(!H||u[0]&32768)&&Ft!==(Ft=i[15].t("Capabilities")+"")&&C($t,Ft),u[0]&33280){$e=Pt(Object.keys(i[9]));let L;for(L=0;L<$e.length;L+=1){const Xt=Os(i,$e,L);B[L]?(B[L].p(Xt,u),Y(B[L],1)):(B[L]=Xs(Xt),B[L].c(),Y(B[L],1),B[L].m(Qe,null))}for(Fl(),L=$e.length;L<B.length;L+=1)ta(L);Ll()}(!H||u[0]&32768)&&Rt!==(Rt=i[15].t("Tags")+"")&&C(xt,Rt);const Be={};u[0]&128&&(Be.tags=((et=(Wt=i[7])==null?void 0:Wt.meta)==null?void 0:et.tags)??[]),u[0]&128&&(Be.deleteTag=i[44]),u[0]&128&&(Be.addTag=i[45]),qe.$set(Be),(!H||u[0]&32768)&&zt!==(zt=i[15].t("JSON Preview")+"")&&C(el,zt),ol===(ol=xl(i))&&he?he.p(i,u):(he.d(1),he=ol(i),he&&(he.c(),he.m(Pe,null))),i[4]?X?X.p(i,u):(X=Ys(i),X.c(),X.m(Ne,null)):X&&(X.d(1),X=null),(!H||u[0]&32768)&&Jt!==(Jt=i[15].t("Save & Update")+"")&&C(tl,Jt),i[0]?Q||(Q=Ks(),Q.c(),Q.m(te,null)):Q&&(Q.d(1),Q=null),(!H||u[0]&1&&ll!==(ll="text-sm px-3 py-2 transition rounded-xl "+(i[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&c(te,"class",ll),(!H||u[0]&1)&&(te.disabled=i[0])},i(i){if(!H){Y(U),Y(Ve.$$.fragment,i),Y(Te.$$.fragment,i),Y(Ae.$$.fragment,i),Y(Se.$$.fragment,i);for(let u=0;u<$e.length;u+=1)Y(B[u]);Y(qe.$$.fragment,i),H=!0}},o(i){se(U),se(Ve.$$.fragment,i),se(Te.$$.fragment,i),se(Ae.$$.fragment,i),se(Se.$$.fragment,i),B=B.filter(Boolean);for(let u=0;u<B.length;u+=1)se(B[u]);se(qe.$$.fragment,i),H=!1},d(i){i&&f(e),de.d(),z&&z.d(),_e.d(),J&&J.d(),pe.d(),U&&U.d(),me.d(),q&&q.d(),W&&W.d(),at(Ve),at(Te),at(Ae),at(Se),zl(B,i),at(qe),he.d(),X&&X.d(),Q&&Q.d(),Hl=!1,Rl(ql)}}}function ya(l){let e,t;return{c(){e=Ns("svg"),t=Ns("path"),this.h()},l(a){e=Ps(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=m(e);t=Ps(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(t).forEach(f),s.forEach(f),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),c(t,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 24 24"),c(e,"fill","currentColor"),c(e,"class","size-8")},m(a,s){O(a,e,s),n(e,t)},p:Jl,d(a){a&&f(e)}}}function Ea(l){let e,t;return{c(){e=d("img"),this.h()},l(a){e=_(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ms(e.src,t=l[7].meta.profile_image_url)||c(e,"src",t),c(e,"alt","modelfile profile"),c(e,"class","rounded-full size-16 object-cover")},m(a,s){O(a,e,s)},p(a,s){s[0]&16512&&!Ms(e.src,t=a[7].meta.profile_image_url)&&c(e,"src",t)},d(a){a&&f(e)}}}function Ls(l){let e,t,a=l[15].t("Base Model (From)")+"",s,r,h,b,k,T=l[15].t("Select a base model")+"",E,D,A,N=Pt(l[14].filter(l[27])),p=[];for(let g=0;g<N.length;g+=1)p[g]=Fs(Hs(l,N,g));return{c(){e=d("div"),t=d("div"),s=P(a),r=w(),h=d("div"),b=d("select"),k=d("option"),E=P(T);for(let g=0;g<p.length;g+=1)p[g].c();this.h()},l(g){e=_(g,"DIV",{class:!0});var V=m(e);t=_(V,"DIV",{class:!0});var o=m(t);s=M(o,a),o.forEach(f),r=I(V),h=_(V,"DIV",{});var y=m(h);b=_(y,"SELECT",{class:!0,placeholder:!0});var j=m(b);k=_(j,"OPTION",{class:!0});var Z=m(k);E=M(Z,T),Z.forEach(f);for(let G=0;G<p.length;G+=1)p[G].l(j);j.forEach(f),y.forEach(f),V.forEach(f),this.h()},h(){c(t,"class","text-sm font-semibold mb-1"),k.__value=null,ge(k,k.__value),c(k,"class","text-gray-900"),c(b,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),c(b,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),b.required=!0,l[7].base_model_id===void 0&&na(()=>l[28].call(b)),c(e,"class","my-1")},m(g,V){O(g,e,V),n(e,t),n(t,s),n(e,r),n(e,h),n(h,b),n(b,k),n(k,E);for(let o=0;o<p.length;o+=1)p[o]&&p[o].m(b,null);Ss(b,l[7].base_model_id,!0),D||(A=K(b,"change",l[28]),D=!0)},p(g,V){if(V[0]&32768&&a!==(a=g[15].t("Base Model (From)")+"")&&C(s,a),V[0]&32768&&T!==(T=g[15].t("Select a base model")+"")&&C(E,T),V[0]&278528){N=Pt(g[14].filter(g[27]));let o;for(o=0;o<N.length;o+=1){const y=Hs(g,N,o);p[o]?p[o].p(y,V):(p[o]=Fs(y),p[o].c(),p[o].m(b,null))}for(;o<p.length;o+=1)p[o].d(1);p.length=N.length}V[0]&16512&&Ss(b,g[7].base_model_id)},d(g){g&&f(e),zl(p,g),D=!1,A()}}}function Fs(l){let e,t=l[18].name+"",a,s;return{c(){e=d("option"),a=P(t),this.h()},l(r){e=_(r,"OPTION",{class:!0});var h=m(e);a=M(h,t),h.forEach(f),this.h()},h(){e.__value=s=l[18].id,ge(e,e.__value),c(e,"class","text-gray-900")},m(r,h){O(r,e,h),n(e,a)},p(r,h){h[0]&278528&&t!==(t=r[18].name+"")&&C(a,t),h[0]&278528&&s!==(s=r[18].id)&&(e.__value=s,ge(e,e.__value))},d(r){r&&f(e)}}}function Da(l){let e,t=l[15].t("Custom")+"",a;return{c(){e=d("span"),a=P(t),this.h()},l(s){e=_(s,"SPAN",{class:!0});var r=m(e);a=M(r,t),r.forEach(f),this.h()},h(){c(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),n(e,a)},p(s,r){r[0]&32768&&t!==(t=s[15].t("Custom")+"")&&C(a,t)},d(s){s&&f(e)}}}function Va(l){let e,t=l[15].t("Default")+"",a;return{c(){e=d("span"),a=P(t),this.h()},l(s){e=_(s,"SPAN",{class:!0});var r=m(e);a=M(r,t),r.forEach(f),this.h()},h(){c(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),n(e,a)},p(s,r){r[0]&32768&&t!==(t=s[15].t("Default")+"")&&C(a,t)},d(s){s&&f(e)}}}function Rs(l){let e,t,a,s;return{c(){e=d("textarea"),this.h()},l(r){e=_(r,"TEXTAREA",{class:!0,placeholder:!0,row:!0}),m(e).forEach(f),this.h()},h(){c(e,"class","mt-1 px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),c(e,"placeholder",t=l[15].t("Add a short description about what this model does")),c(e,"row","3")},m(r,h){O(r,e,h),ge(e,l[7].meta.description),a||(s=K(e,"input",l[30]),a=!0)},p(r,h){h[0]&32768&&t!==(t=r[15].t("Add a short description about what this model does"))&&c(e,"placeholder",t),h[0]&16512&&ge(e,r[7].meta.description)},d(r){r&&f(e),a=!1,s()}}}function Ta(l){let e,t=l[15].t("Show")+"",a;return{c(){e=d("span"),a=P(t),this.h()},l(s){e=_(s,"SPAN",{class:!0});var r=m(e);a=M(r,t),r.forEach(f),this.h()},h(){c(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),n(e,a)},p(s,r){r[0]&32768&&t!==(t=s[15].t("Show")+"")&&C(a,t)},d(s){s&&f(e)}}}function Aa(l){let e,t=l[15].t("Hide")+"",a;return{c(){e=d("span"),a=P(t),this.h()},l(s){e=_(s,"SPAN",{class:!0});var r=m(e);a=M(r,t),r.forEach(f),this.h()},h(){c(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),n(e,a)},p(s,r){r[0]&32768&&t!==(t=s[15].t("Hide")+"")&&C(a,t)},d(s){s&&f(e)}}}function zs(l){let e,t,a,s;function r(b){l[33](b)}let h={admin:!0};return l[8]!==void 0&&(h.params=l[8]),t=new ma({props:h}),Nt.push(()=>Zt(t,"params",r)),t.$on("change",l[34]),{c(){e=d("div"),tt(t.$$.fragment),this.h()},l(b){e=_(b,"DIV",{class:!0});var k=m(e);lt(t.$$.fragment,k),k.forEach(f),this.h()},h(){c(e,"class","my-2")},m(b,k){O(b,e,k),st(t,e,null),s=!0},p(b,k){const T={};!a&&k[0]&256&&(a=!0,T.params=b[8],Kt(()=>a=!1)),t.$set(T)},i(b){s||(Y(t.$$.fragment,b),s=!0)},o(b){se(t.$$.fragment,b),s=!1},d(b){b&&f(e),at(t)}}}function Sa(l){let e,t=l[15].t("Custom")+"",a;return{c(){e=d("span"),a=P(t),this.h()},l(s){e=_(s,"SPAN",{class:!0});var r=m(e);a=M(r,t),r.forEach(f),this.h()},h(){c(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),n(e,a)},p(s,r){r[0]&32768&&t!==(t=s[15].t("Custom")+"")&&C(a,t)},d(s){s&&f(e)}}}function Na(l){let e,t=l[15].t("Default")+"",a;return{c(){e=d("span"),a=P(t),this.h()},l(s){e=_(s,"SPAN",{class:!0});var r=m(e);a=M(r,t),r.forEach(f),this.h()},h(){c(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),n(e,a)},p(s,r){r[0]&32768&&t!==(t=s[15].t("Default")+"")&&C(a,t)},d(s){s&&f(e)}}}function Js(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',a,s;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-j580ct"&&(e.innerHTML=t),this.h()},h(){c(e,"class","p-1 px-2 text-xs flex rounded transition"),c(e,"type","button")},m(r,h){O(r,e,h),a||(s=K(e,"click",l[36]),a=!0)},p:Jl,d(r){r&&f(e),a=!1,s()}}}function qs(l){let e;function t(r,h){return r[7].meta.suggestion_prompts.length>0?Ma:Pa}let a=t(l),s=a(l);return{c(){e=d("div"),s.c(),this.h()},l(r){e=_(r,"DIV",{class:!0});var h=m(e);s.l(h),h.forEach(f),this.h()},h(){c(e,"class","flex flex-col space-y-1 mt-2")},m(r,h){O(r,e,h),s.m(e,null)},p(r,h){a===(a=t(r))&&s?s.p(r,h):(s.d(1),s=a(r),s&&(s.c(),s.m(e,null)))},d(r){r&&f(e),s.d()}}}function Pa(l){let e,t="No suggestion prompts";return{c(){e=d("div"),e.textContent=t,this.h()},l(a){e=_(a,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){c(e,"class","text-xs text-center")},m(a,s){O(a,e,s)},p:Jl,d(a){a&&f(e)}}}function Ma(l){let e,t=Pt(l[7].meta.suggestion_prompts),a=[];for(let s=0;s<t.length;s+=1)a[s]=Ws(js(l,t,s));return{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=Bs()},l(s){for(let r=0;r<a.length;r+=1)a[r].l(s);e=Bs()},m(s,r){for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(s,r);O(s,e,r)},p(s,r){if(r[0]&32896){t=Pt(s[7].meta.suggestion_prompts);let h;for(h=0;h<t.length;h+=1){const b=js(s,t,h);a[h]?a[h].p(b,r):(a[h]=Ws(b),a[h].c(),a[h].m(e.parentNode,e))}for(;h<a.length;h+=1)a[h].d(1);a.length=t.length}},d(s){s&&f(e),zl(a,s)}}}function Ws(l){let e,t,a,s,r,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,k,T;function E(){l[37].call(t,l[54],l[55])}function D(){return l[38](l[55])}return{c(){e=d("div"),t=d("input"),s=w(),r=d("button"),r.innerHTML=h,b=w(),this.h()},l(A){e=_(A,"DIV",{class:!0});var N=m(e);t=_(N,"INPUT",{class:!0,placeholder:!0}),s=I(N),r=_(N,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Gt(r)!=="svelte-8f7b7y"&&(r.innerHTML=h),b=I(N),N.forEach(f),this.h()},h(){c(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),c(t,"placeholder",a=l[15].t("Write a prompt suggestion (e.g. Who are you?)")),c(r,"class","px-2"),c(r,"type","button"),c(e,"class","flex border dark:border-gray-600 rounded-lg")},m(A,N){O(A,e,N),n(e,t),ge(t,l[53].content),n(e,s),n(e,r),n(e,b),k||(T=[K(t,"input",E),K(r,"click",D)],k=!0)},p(A,N){l=A,N[0]&32768&&a!==(a=l[15].t("Write a prompt suggestion (e.g. Who are you?)"))&&c(t,"placeholder",a),N[0]&16512&&t.value!==l[53].content&&ge(t,l[53].content)},d(A){A&&f(e),k=!1,Rl(T)}}}function Xs(l){let e,t,a,s,r=l[15].t(l[50])+"",h,b,k;function T(...E){return l[43](l[50],...E)}return t=new ga({props:{state:l[9][l[50]]?"checked":"unchecked"}}),t.$on("change",T),{c(){e=d("div"),tt(t.$$.fragment),a=w(),s=d("div"),h=P(r),b=w(),this.h()},l(E){e=_(E,"DIV",{class:!0});var D=m(e);lt(t.$$.fragment,D),a=I(D),s=_(D,"DIV",{class:!0});var A=m(s);h=M(A,r),A.forEach(f),b=I(D),D.forEach(f),this.h()},h(){c(s,"class","py-0.5 text-sm w-full capitalize"),c(e,"class","flex items-center gap-2")},m(E,D){O(E,e,D),st(t,e,null),n(e,a),n(e,s),n(s,h),n(e,b),k=!0},p(E,D){l=E;const A={};D[0]&512&&(A.state=l[9][l[50]]?"checked":"unchecked"),t.$set(A),(!k||D[0]&33280)&&r!==(r=l[15].t(l[50])+"")&&C(h,r)},i(E){k||(Y(t.$$.fragment,E),k=!0)},o(E){se(t.$$.fragment,E),k=!1},d(E){E&&f(e),at(t)}}}function Ba(l){let e,t=l[15].t("Show")+"",a;return{c(){e=d("span"),a=P(t),this.h()},l(s){e=_(s,"SPAN",{class:!0});var r=m(e);a=M(r,t),r.forEach(f),this.h()},h(){c(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),n(e,a)},p(s,r){r[0]&32768&&t!==(t=s[15].t("Show")+"")&&C(a,t)},d(s){s&&f(e)}}}function Ca(l){let e,t=l[15].t("Hide")+"",a;return{c(){e=d("span"),a=P(t),this.h()},l(s){e=_(s,"SPAN",{class:!0});var r=m(e);a=M(r,t),r.forEach(f),this.h()},h(){c(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),n(e,a)},p(s,r){r[0]&32768&&t!==(t=s[15].t("Hide")+"")&&C(a,t)},d(s){s&&f(e)}}}function Ys(l){let e,t,a;return{c(){e=d("div"),t=d("textarea"),this.h()},l(s){e=_(s,"DIV",{});var r=m(e);t=_(r,"TEXTAREA",{class:!0,rows:!0}),m(t).forEach(f),r.forEach(f),this.h()},h(){c(t,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),c(t,"rows","10"),t.value=a=JSON.stringify(l[7],null,2),t.disabled=!0,t.readOnly=!0},m(s,r){O(s,e,r),n(e,t)},p(s,r){r[0]&16512&&a!==(a=JSON.stringify(s[7],null,2))&&(t.value=a)},d(s){s&&f(e)}}}function Ks(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(a){e=_(a,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-1k8nuce"&&(e.innerHTML=t),this.h()},h(){c(e,"class","ml-1.5 self-center")},m(a,s){O(a,e,s)},d(a){a&&f(e)}}}function Oa(l){let e,t,a,s,r,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',b,k,T=l[15].t("Back")+"",E,D,A,N,p,g=l[18]&&Us(l);return{c(){e=d("div"),t=d("input"),a=w(),s=d("button"),r=d("div"),r.innerHTML=h,b=w(),k=d("div"),E=P(T),D=w(),g&&g.c(),this.h()},l(V){e=_(V,"DIV",{class:!0});var o=m(e);t=_(o,"INPUT",{type:!0,accept:!0}),a=I(o),s=_(o,"BUTTON",{class:!0});var y=m(s);r=_(y,"DIV",{class:!0,"data-svelte-h":!0}),Gt(r)!=="svelte-1klo87r"&&(r.innerHTML=h),b=I(y),k=_(y,"DIV",{class:!0});var j=m(k);E=M(j,T),j.forEach(f),y.forEach(f),D=I(o),g&&g.l(o),o.forEach(f),this.h()},h(){c(t,"type","file"),t.hidden=!0,c(t,"accept","image/*"),c(r,"class","self-center"),c(k,"class","self-center font-medium text-sm"),c(s,"class","flex space-x-1"),c(e,"class","w-full max-h-full")},m(V,o){O(V,e,o),n(e,t),l[21](t),n(e,a),n(e,s),n(s,r),n(s,b),n(s,k),n(k,E),n(e,D),g&&g.m(e,null),A=!0,N||(p=[K(t,"change",l[22]),K(t,"change",l[23]),K(s,"click",l[24])],N=!0)},p(V,o){(!A||o[0]&32768)&&T!==(T=V[15].t("Back")+"")&&C(E,T),V[18]?g?(g.p(V,o),o[0]&262144&&Y(g,1)):(g=Us(V),g.c(),Y(g,1),g.m(e,null)):g&&(Fl(),se(g,1,1,()=>{g=null}),Ll())},i(V){A||(Y(g),A=!0)},o(V){se(g),A=!1},d(V){V&&f(e),l[21](null),g&&g.d(),N=!1,Rl(p)}}}const Zs=l=>l.type==="filter",Gs=l=>l.type==="action";function ja(l,e,t){let a,s,r,h,b;Yt(l,Cs,v=>t(14,a=v)),Yt(l,ua,v=>t(49,s=v)),Yt(l,da,v=>t(16,h=v)),Yt(l,_a,v=>t(17,b=v));const k=sa("i18n");Yt(l,k,v=>t(15,r=v));let T=!1,E,D,A=!1,N=!1,p=null,g="",V="",o={id:"",base_model_id:null,name:"",meta:{profile_image_url:"/static/favicon.png",description:"",suggestion_prompts:null,tags:[]},params:{system:""}},y={},j={vision:!0},Z=[],G=[],ve=[],be=[];const Ce=async()=>{t(0,T=!0),t(7,o.id=g,o),t(7,o.name=V,o),t(7,o.meta.capabilities=j,o),Z.length>0?t(7,o.meta.knowledge=Z,o):o.meta.knowledge&&delete o.meta.knowledge,G.length>0?t(7,o.meta.toolIds=G,o):o.meta.toolIds&&delete o.meta.toolIds,ve.length>0?t(7,o.meta.filterIds=ve,o):o.meta.filterIds&&delete o.meta.filterIds,be.length>0?t(7,o.meta.actionIds=be,o):o.meta.actionIds&&delete o.meta.actionIds,t(7,o.params.stop=y.stop?y.stop.split(",").filter(S=>S.trim()):null,o),Object.keys(o.params).forEach(S=>{(o.params[S]===""||o.params[S]===null)&&delete o.params[S]}),await pa(localStorage.token,o.id,o)&&(await Cs.set(await ha(localStorage.token)),fa.success(r.t("Model updated successfully")),await bl("/workspace/models")),t(0,T=!1)};aa(()=>{var S,Ue,F,$,Ie,ce,fe,R,Le,Fe,Ee,ut,ae,re,ue,De,Re,Ge,dt,ne,_t;const v=s.url.searchParams.get("id");v?(t(18,p=a.find(Lt=>Lt.id===v)),p?(t(5,g=p.id),t(6,V=p.name),t(7,o={...o,...JSON.parse(JSON.stringify(p!=null&&p.info?p==null?void 0:p.info:{id:p.id,name:p.name}))}),p.preset&&p.owned_by==="ollama"&&!o.base_model_id.includes(":")&&t(7,o.base_model_id=`${o.base_model_id}:latest`,o),t(8,y={...y,...(S=p==null?void 0:p.info)==null?void 0:S.params}),t(8,y.stop=y!=null&&y.stop?(typeof y.stop=="string"?y.stop.split(","):(y==null?void 0:y.stop)??[]).join(","):null,y),(F=(Ue=p==null?void 0:p.info)==null?void 0:Ue.meta)!=null&&F.knowledge&&t(10,Z=[...(Ie=($=p==null?void 0:p.info)==null?void 0:$.meta)==null?void 0:Ie.knowledge]),(fe=(ce=p==null?void 0:p.info)==null?void 0:ce.meta)!=null&&fe.toolIds&&t(11,G=[...(Le=(R=p==null?void 0:p.info)==null?void 0:R.meta)==null?void 0:Le.toolIds]),(Ee=(Fe=p==null?void 0:p.info)==null?void 0:Fe.meta)!=null&&Ee.filterIds&&t(12,ve=[...(ae=(ut=p==null?void 0:p.info)==null?void 0:ut.meta)==null?void 0:ae.filterIds]),(ue=(re=p==null?void 0:p.info)==null?void 0:re.meta)!=null&&ue.actionIds&&t(13,be=[...(Re=(De=p==null?void 0:p.info)==null?void 0:De.meta)==null?void 0:Re.actionIds]),(p==null?void 0:p.owned_by)==="openai"&&t(9,j.usage=!1,j),(dt=(Ge=p==null?void 0:p.info)==null?void 0:Ge.meta)!=null&&dt.capabilities&&t(9,j={...j,...(_t=(ne=p==null?void 0:p.info)==null?void 0:ne.meta)==null?void 0:_t.capabilities}),console.log(p)):bl("/workspace/models")):bl("/workspace/models")});function x(v){Nt[v?"unshift":"push"](()=>{E=v,t(1,E)})}function rt(){D=this.files,t(2,D)}const Mt=()=>{let v=new FileReader;v.onload=S=>{let Ue=`${S.target.result}`;const F=new Image;F.src=Ue,F.onload=function(){const $=document.createElement("canvas"),Ie=$.getContext("2d"),ce=F.width/F.height;let fe,R;ce>1?(fe=250*ce,R=250):(fe=250,R=250/ce),$.width=250,$.height=250;const Le=(250-fe)/2,Fe=(250-R)/2;Ie.drawImage(F,Le,Fe,fe,R);const Ee=$.toDataURL("image/jpeg");t(7,o.meta.profile_image_url=Ee,o),t(2,D=null)}},D&&D.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(D[0].type)?v.readAsDataURL(D[0]):(console.log(`Unsupported File Type '${D[0].type}'.`),t(2,D=null))},nt=()=>{bl("/workspace/models")},oe=()=>{E.click()};function ke(){V=this.value,t(6,V)}const Oe=v=>v.id!==p.id&&!(v!=null&&v.preset);function Ye(){o.base_model_id=oa(this),t(7,o)}const ot=()=>{o.meta.description===null?t(7,o.meta.description="",o):t(7,o.meta.description=null,o)};function Bt(){o.meta.description=this.value,t(7,o)}function ie(){o.params.system=this.value,t(7,o)}const Ct=()=>{t(3,A=!A)};function Ot(v){y=v,t(8,y)}const it=v=>{t(7,o.params={...o.params,...y},o)},jt=()=>{var v;(((v=o==null?void 0:o.meta)==null?void 0:v.suggestion_prompts)??null)===null?t(7,o.meta.suggestion_prompts=[{content:""}],o):t(7,o.meta.suggestion_prompts=null,o)},we=()=>{(o.meta.suggestion_prompts.length===0||o.meta.suggestion_prompts.at(-1).content!=="")&&t(7,o.meta.suggestion_prompts=[...o.meta.suggestion_prompts,{content:""}],o)};function je(v,S){v[S].content=this.value,t(7,o)}const He=v=>{o.meta.suggestion_prompts.splice(v,1),t(7,o)};function Ke(v){Z=v,t(10,Z)}function ct(v){G=v,t(11,G)}function Ht(v){ve=v,t(12,ve)}function ee(v){be=v,t(13,be)}return[T,E,D,A,N,g,V,o,y,j,Z,G,ve,be,a,r,h,b,p,k,Ce,x,rt,Mt,nt,oe,ke,Oe,Ye,ot,Bt,ie,Ct,Ot,it,jt,we,je,He,Ke,ct,Ht,ee,(v,S)=>{t(9,j[v]=S.detail==="checked",j)},v=>{t(7,o.meta.tags=o.meta.tags.filter(S=>S.name!==v),o)},v=>{var S;console.log(v),((S=o==null?void 0:o.meta)==null?void 0:S.tags)??null?t(7,o.meta.tags=[...o.meta.tags,{name:v}],o):t(7,o.meta.tags=[{name:v}],o)},()=>{t(4,N=!N)},()=>{Ce()}]}class Qa extends ia{constructor(e){super(),ca(this,e,ja,Oa,la,{},null,[-1,-1])}}export{Qa as component};
//# sourceMappingURL=18.qkSvXWDb.js.map
