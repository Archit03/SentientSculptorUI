import{s as Y,j as R,p as ee,q as oe,r as Ae,v as Te,w as xe,x as Ce,e as w,c as $,a as p,d as u,f as _,i as V,l as de,H as te,t as j,b as H,g,h as Z,n as ue,k as M,o as B,y as O,z as S,B as Me,E as Be,A as je,u as He}from"./scheduler.Dz-NSSWT.js";import{S as le,i as se,b as q,d as K,m as U,t as E,a as y,e as G,g as J,c as P,f as Ze}from"./index.CVQtJBk6.js";import{e as N}from"./each.CwcyO-D0.js";import{T as ye}from"./create.BSJgY7P6.js";import{D as Fe,M as Oe}from"./Dropdown.fFGB6AF7.js";import{b as Se}from"./menu-trigger.BEfW-VTh.js";import{n as ze}from"./index.D2mQNFJF.js";import{f as Le}from"./index.DMdt0oYD.js";import{C as ce}from"./Checkbox.W3Q7q_uq.js";function he(o,e,s){const l=o.slice();return l[10]=e[s],l}function Ne(o){let e;const s=o[5].default,l=Ae(s,o,o[8],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,c){l&&l.m(t,c),e=!0},p(t,c){l&&l.p&&(!e||c&256)&&Te(l,s,t,t[8],e?Ce(s,t[8],c,null):xe(t[8]),null)},i(t){e||(E(l,t),e=!0)},o(t){y(l,t),e=!1},d(t){l&&l.d(t)}}}function qe(o){let e,s,l=N(o[2]),t=[];for(let n=0;n<l.length;n+=1)t[n]=ve(he(o,l,n));const c=n=>y(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=de()},l(n){for(let i=0;i<t.length;i+=1)t[i].l(n);e=de()},m(n,i){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(n,i);V(n,e,i),s=!0},p(n,i){if(i&5){l=N(n[2]);let r;for(r=0;r<l.length;r+=1){const f=he(n,l,r);t[r]?(t[r].p(f,i),E(t[r],1)):(t[r]=ve(f),t[r].c(),E(t[r],1),t[r].m(e.parentNode,e))}for(J(),r=l.length;r<t.length;r+=1)c(r);P()}},i(n){if(!s){for(let i=0;i<l.length;i+=1)E(t[i]);s=!0}},o(n){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)y(t[i]);s=!1},d(n){n&&u(e),te(t,n)}}}function Ke(o){let e,s=o[3].t("No documents found")+"",l;return{c(){e=w("div"),l=j(s),this.h()},l(t){e=$(t,"DIV",{class:!0});var c=p(e);l=H(c,s),c.forEach(u),this.h()},h(){_(e,"class","text-center text-sm text-gray-500 dark:text-gray-400")},m(t,c){V(t,e,c),g(e,l)},p(t,c){c&8&&s!==(s=t[3].t("No documents found")+"")&&Z(l,s)},i:ue,o:ue,d(t){t&&u(e)}}}function Ue(o){let e,s,l;return{c(){e=O("svg"),s=O("path"),l=O("path"),this.h()},l(t){e=S(t,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=p(e);s=S(c,"path",{d:!0}),p(s).forEach(u),l=S(c,"path",{d:!0}),p(l).forEach(u),c.forEach(u),this.h()},h(){_(s,"d","M7.5 3.375c0-1.036.84-1.875 1.875-1.875h.375a3.75 3.75 0 0 1 3.75 3.75v1.875C13.5 8.161 14.34 9 15.375 9h1.875A3.75 3.75 0 0 1 21 12.75v3.375C21 17.16 20.16 18 19.125 18h-9.75A1.875 1.875 0 0 1 7.5 16.125V3.375Z"),_(l,"d","M15 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 17.25 7.5h-1.875A.375.375 0 0 1 15 7.125V5.25ZM4.875 6H6v10.125A3.375 3.375 0 0 0 9.375 19.5H16.5v1.125c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V7.875C3 6.839 3.84 6 4.875 6Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"fill","currentColor"),_(e,"class","size-4")},m(t,c){V(t,e,c),g(e,s),g(e,l)},d(t){t&&u(e)}}}function Ge(o){let e,s,l;return{c(){e=O("svg"),s=O("path"),l=O("path"),this.h()},l(t){e=S(t,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=p(e);s=S(c,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(s).forEach(u),l=S(c,"path",{d:!0}),p(l).forEach(u),c.forEach(u),this.h()},h(){_(s,"fill-rule","evenodd"),_(s,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),_(s,"clip-rule","evenodd"),_(l,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"fill","currentColor"),_(e,"class","w-4")},m(t,c){V(t,e,c),g(e,s),g(e,l)},d(t){t&&u(e)}}}function Je(o){var A;let e,s,l,t,c,n=(((A=o[10])==null?void 0:A.type)??"Document")+"",i,r,f,h=o[10].name+"",d,k;function a(b,D){var T;if((((T=b[10])==null?void 0:T.type)??"doc")==="doc")return Ge;if(b[10].type==="collection")return Ue}let m=a(o),v=m&&m(o);return{c(){e=w("div"),v&&v.c(),s=M(),l=w("div"),t=w("div"),c=w("div"),i=j(n),r=M(),f=w("div"),d=j(h),k=M(),this.h()},l(b){e=$(b,"DIV",{class:!0});var D=p(e);v&&v.l(D),D.forEach(u),s=B(b),l=$(b,"DIV",{class:!0});var T=p(l);t=$(T,"DIV",{class:!0});var I=p(t);c=$(I,"DIV",{class:!0});var x=p(c);i=H(x,n),x.forEach(u),r=B(I),f=$(I,"DIV",{class:!0});var C=p(f);d=H(C,h),C.forEach(u),I.forEach(u),T.forEach(u),k=B(b),this.h()},h(){_(e,"class","flex self-start"),_(c,"class","w-fit text-xs font-bold px-1 rounded uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200"),_(f,"class","line-clamp-1 font-medium pr-0.5"),_(t,"class","flex flex-col"),_(l,"class","flex items-center")},m(b,D){V(b,e,D),v&&v.m(e,null),V(b,s,D),V(b,l,D),g(l,t),g(t,c),g(c,i),g(t,r),g(t,f),g(f,d),V(b,k,D)},p(b,D){var T;m!==(m=a(b))&&(v&&v.d(1),v=m&&m(b),v&&(v.c(),v.m(e,null))),D&4&&n!==(n=(((T=b[10])==null?void 0:T.type)??"Document")+"")&&Z(i,n),D&4&&h!==(h=b[10].name+"")&&Z(d,h)},d(b){b&&(u(e),u(s),u(l),u(k)),v&&v.d()}}}function ve(o){let e,s;function l(){return o[6](o[10])}return e=new Oe({props:{class:"flex gap-2.5 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Je]},$$scope:{ctx:o}}}),e.$on("click",l),{c(){q(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,c){U(e,t,c),s=!0},p(t,c){o=t;const n={};c&260&&(n.$$scope={dirty:c,ctx:o}),e.$set(n)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){G(e,t)}}}function Pe(o){let e,s,l,t;const c=[Ke,qe],n=[];function i(r,f){return r[2].length===0?0:1}return s=i(o),l=n[s]=c[s](o),{c(){e=w("div"),l.c(),this.h()},l(r){e=$(r,"DIV",{class:!0});var f=p(e);l.l(f),f.forEach(u),this.h()},h(){_(e,"class","max-h-[10rem] overflow-y-scroll")},m(r,f){V(r,e,f),n[s].m(e,null),t=!0},p(r,f){let h=s;s=i(r),s===h?n[s].p(r,f):(J(),y(n[h],1,1,()=>{n[h]=null}),P(),l=n[s],l?l.p(r,f):(l=n[s]=c[s](r),l.c()),E(l,1),l.m(e,null))},i(r){t||(E(l),t=!0)},o(r){y(l),t=!1},d(r){r&&u(e),n[s].d()}}}function Qe(o){let e,s,l;return s=new Se({props:{class:"w-full max-w-[300px]  rounded-lg px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:8,side:"bottom",align:"start",transition:Le,$$slots:{default:[Pe]},$$scope:{ctx:o}}}),{c(){e=w("div"),q(s.$$.fragment),this.h()},l(t){e=$(t,"DIV",{slot:!0});var c=p(e);K(s.$$.fragment,c),c.forEach(u),this.h()},h(){_(e,"slot","content")},m(t,c){V(t,e,c),U(s,e,null),l=!0},p(t,c){const n={};c&269&&(n.$$scope={dirty:c,ctx:t}),s.$set(n)},i(t){l||(E(s.$$.fragment,t),l=!0)},o(t){y(s.$$.fragment,t),l=!1},d(t){t&&u(e),G(s)}}}function Re(o){let e,s;return e=new Fe({props:{$$slots:{content:[Qe],default:[Ne]},$$scope:{ctx:o}}}),e.$on("change",o[7]),{c(){q(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,t){U(e,l,t),s=!0},p(l,[t]){const c={};t&269&&(c.$$scope={dirty:t,ctx:l}),e.$set(c)},i(l){s||(E(e.$$.fragment,l),s=!0)},o(l){y(e.$$.fragment,l),s=!1},d(l){G(e,l)}}}function We(o,e,s){let l,t;R(o,ze,a=>s(9,l=a));let{$$slots:c={},$$scope:n}=e;const i=ee("i18n");R(o,i,a=>s(3,t=a));let{onClose:r=()=>{}}=e,{knowledge:f=[]}=e,h=[];oe(()=>{let a=[...l.length>0?[{name:"All Documents",type:"collection",title:t.t("All Documents"),collection_names:l.map(m=>m.collection_name)}]:[],...l.reduce((m,v,A,b)=>{var D;return[...new Set([...m,...(((D=v==null?void 0:v.content)==null?void 0:D.tags)??[]).map(T=>T.name)])]},[]).map(m=>({name:m,type:"collection",collection_names:l.filter(v=>{var A;return(((A=v==null?void 0:v.content)==null?void 0:A.tags)??[]).map(b=>b.name).includes(m)}).map(v=>v.collection_name)}))];s(2,h=[...a,...l])});const d=a=>{f.find(m=>m.name===a.name)||s(0,f=[...f,{...a,type:(a==null?void 0:a.type)??"doc"}])},k=a=>{a.detail===!1&&r()};return o.$$set=a=>{"onClose"in a&&s(1,r=a.onClose),"knowledge"in a&&s(0,f=a.knowledge),"$$scope"in a&&s(8,n=a.$$scope)},[f,r,h,t,i,c,d,k,n]}class Xe extends le{constructor(e){super(),se(this,e,We,Re,Y,{onClose:1,knowledge:0})}}function me(o,e,s){const l=o.slice();return l[5]=e[s],l[7]=s,l}function _e(o){let e,s=N(o[0]),l=[];for(let t=0;t<s.length;t+=1)l[t]=ge(me(o,s,t));return{c(){e=w("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=$(t,"DIV",{class:!0});var c=p(e);for(let n=0;n<l.length;n+=1)l[n].l(c);c.forEach(u),this.h()},h(){_(e,"class","flex items-center gap-2 mt-2")},m(t,c){V(t,e,c);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(t,c){if(c&3){s=N(t[0]);let n;for(n=0;n<s.length;n+=1){const i=me(t,s,n);l[n]?l[n].p(i,c):(l[n]=ge(i),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},d(t){t&&u(e),te(l,t)}}}function Ye(o){let e,s,l;return{c(){e=O("svg"),s=O("path"),l=O("path"),this.h()},l(t){e=S(t,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=p(e);s=S(c,"path",{d:!0}),p(s).forEach(u),l=S(c,"path",{d:!0}),p(l).forEach(u),c.forEach(u),this.h()},h(){_(s,"d","M7.5 3.375c0-1.036.84-1.875 1.875-1.875h.375a3.75 3.75 0 0 1 3.75 3.75v1.875C13.5 8.161 14.34 9 15.375 9h1.875A3.75 3.75 0 0 1 21 12.75v3.375C21 17.16 20.16 18 19.125 18h-9.75A1.875 1.875 0 0 1 7.5 16.125V3.375Z"),_(l,"d","M15 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 17.25 7.5h-1.875A.375.375 0 0 1 15 7.125V5.25ZM4.875 6H6v10.125A3.375 3.375 0 0 0 9.375 19.5H16.5v1.125c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V7.875C3 6.839 3.84 6 4.875 6Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"fill","currentColor"),_(e,"class","size-6")},m(t,c){V(t,e,c),g(e,s),g(e,l)},d(t){t&&u(e)}}}function et(o){let e,s,l;return{c(){e=O("svg"),s=O("path"),l=O("path"),this.h()},l(t){e=S(t,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=p(e);s=S(c,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(s).forEach(u),l=S(c,"path",{d:!0}),p(l).forEach(u),c.forEach(u),this.h()},h(){_(s,"fill-rule","evenodd"),_(s,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),_(s,"clip-rule","evenodd"),_(l,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24"),_(e,"fill","currentColor"),_(e,"class","size-6")},m(t,c){V(t,e,c),g(e,s),g(e,l)},d(t){t&&u(e)}}}function ge(o){var W,Q;let e,s,l,t,c,n,i=(((W=o[5])==null?void 0:W.title)??`#${o[5].name}`)+"",r,f,h,d=o[1].t(((Q=o[5])==null?void 0:Q.type)??"Document")+"",k,a,m,v,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,D,T;function I(F,z){var L;if((((L=F[5])==null?void 0:L.type)??"doc")==="doc")return et;if(F[5].type==="collection")return Ye}let x=I(o),C=x&&x(o);function ne(){return o[3](o[7])}return{c(){e=w("div"),s=w("div"),l=w("div"),C&&C.c(),t=M(),c=w("div"),n=w("div"),r=j(i),f=M(),h=w("div"),k=j(d),a=M(),m=w("div"),v=w("button"),v.innerHTML=A,b=M(),this.h()},l(F){e=$(F,"DIV",{class:!0});var z=p(e);s=$(z,"DIV",{class:!0});var L=p(s);l=$(L,"DIV",{class:!0});var X=p(l);C&&C.l(X),X.forEach(u),t=B(L),c=$(L,"DIV",{class:!0});var re=p(c);n=$(re,"DIV",{class:!0});var ie=p(n);r=H(ie,i),ie.forEach(u),f=B(re),h=$(re,"DIV",{class:!0});var ae=p(h);k=H(ae,d),ae.forEach(u),re.forEach(u),L.forEach(u),a=B(z),m=$(z,"DIV",{class:!0});var fe=p(m);v=$(fe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),je(v)!=="svelte-v6mhqq"&&(v.innerHTML=A),fe.forEach(u),b=B(z),z.forEach(u),this.h()},h(){_(l,"class","p-2.5 bg-red-400 text-white rounded-lg"),_(n,"class","dark:text-gray-100 text-sm font-medium line-clamp-1"),_(h,"class","text-gray-500 text-sm"),_(c,"class","flex flex-col justify-center -space-y-0.5"),_(s,"class","h-16 w-[15rem] flex items-center space-x-3 px-2.5 dark:bg-gray-600 rounded-xl border border-gray-200 dark:border-none"),_(v,"class","bg-gray-400 text-white border border-white rounded-full group-hover:visible invisible transition"),_(v,"type","button"),_(m,"class","absolute -top-1 -right-1"),_(e,"class","relative group")},m(F,z){V(F,e,z),g(e,s),g(s,l),C&&C.m(l,null),g(s,t),g(s,c),g(c,n),g(n,r),g(c,f),g(c,h),g(h,k),g(e,a),g(e,m),g(m,v),g(e,b),D||(T=He(v,"click",ne),D=!0)},p(F,z){var L,X;o=F,x!==(x=I(o))&&(C&&C.d(1),C=x&&x(o),C&&(C.c(),C.m(l,null))),z&1&&i!==(i=(((L=o[5])==null?void 0:L.title)??`#${o[5].name}`)+"")&&Z(r,i),z&3&&d!==(d=o[1].t(((X=o[5])==null?void 0:X.type)??"Document")+"")&&Z(k,d)},d(F){F&&u(e),C&&C.d(),D=!1,T()}}}function tt(o){let e,s=o[1].t("Select Documents")+"",l;return{c(){e=w("button"),l=j(s),this.h()},l(t){e=$(t,"BUTTON",{class:!0,type:!0});var c=p(e);l=H(c,s),c.forEach(u),this.h()},h(){_(e,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),_(e,"type","button")},m(t,c){V(t,e,c),g(e,l)},p(t,c){c&2&&s!==(s=t[1].t("Select Documents")+"")&&Z(l,s)},d(t){t&&u(e)}}}function lt(o){let e,s,l,t=o[1].t("Knowledge")+"",c,n,i,r=o[1].t('To add documents here, upload them to the "Documents" workspace first.')+"",f,h,d,k,a,m,v,A,b=o[0].length>0&&_e(o);function D(I){o[4](I)}let T={$$slots:{default:[tt]},$$scope:{ctx:o}};return o[0]!==void 0&&(T.knowledge=o[0]),m=new Xe({props:T}),Me.push(()=>Ze(m,"knowledge",D)),{c(){e=w("div"),s=w("div"),l=w("div"),c=j(t),n=M(),i=w("div"),f=j(r),h=M(),d=w("div"),b&&b.c(),k=M(),a=w("div"),q(m.$$.fragment),this.h()},l(I){e=$(I,"DIV",{});var x=p(e);s=$(x,"DIV",{class:!0});var C=p(s);l=$(C,"DIV",{class:!0});var ne=p(l);c=H(ne,t),ne.forEach(u),C.forEach(u),n=B(x),i=$(x,"DIV",{class:!0});var W=p(i);f=H(W,r),W.forEach(u),h=B(x),d=$(x,"DIV",{class:!0});var Q=p(d);b&&b.l(Q),k=B(Q),a=$(Q,"DIV",{class:!0});var F=p(a);K(m.$$.fragment,F),F.forEach(u),Q.forEach(u),x.forEach(u),this.h()},h(){_(l,"class","self-center text-sm font-semibold"),_(s,"class","flex w-full justify-between mb-1"),_(i,"class","text-xs dark:text-gray-500"),_(a,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2"),_(d,"class","flex flex-col")},m(I,x){V(I,e,x),g(e,s),g(s,l),g(l,c),g(e,n),g(e,i),g(i,f),g(e,h),g(e,d),b&&b.m(d,null),g(d,k),g(d,a),U(m,a,null),A=!0},p(I,[x]){(!A||x&2)&&t!==(t=I[1].t("Knowledge")+"")&&Z(c,t),(!A||x&2)&&r!==(r=I[1].t('To add documents here, upload them to the "Documents" workspace first.')+"")&&Z(f,r),I[0].length>0?b?b.p(I,x):(b=_e(I),b.c(),b.m(d,k)):b&&(b.d(1),b=null);const C={};x&258&&(C.$$scope={dirty:x,ctx:I}),!v&&x&1&&(v=!0,C.knowledge=I[0],Be(()=>v=!1)),m.$set(C)},i(I){A||(E(m.$$.fragment,I),A=!0)},o(I){y(m.$$.fragment,I),A=!1},d(I){I&&u(e),b&&b.d(),G(m)}}}function st(o,e,s){let l,{knowledge:t=[]}=e;const c=ee("i18n");R(o,c,r=>s(1,l=r));const n=r=>{t.splice(r,1),s(0,t)};function i(r){t=r,s(0,t)}return o.$$set=r=>{"knowledge"in r&&s(0,t=r.knowledge)},[t,l,c,n,i]}class wt extends le{constructor(e){super(),se(this,e,st,lt,Y,{knowledge:0})}}function pe(o,e,s){const l=o.slice();return l[6]=e[s],l[8]=s,l}function ke(o){let e,s,l=N(Object.keys(o[2])),t=[];for(let n=0;n<l.length;n+=1)t[n]=be(pe(o,l,n));const c=n=>y(t[n],1,1,()=>{t[n]=null});return{c(){e=w("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=$(n,"DIV",{class:!0});var i=p(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(u),this.h()},h(){_(e,"class","flex items-center mt-2 flex-wrap")},m(n,i){V(n,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null);s=!0},p(n,i){if(i&5){l=N(Object.keys(n[2]));let r;for(r=0;r<l.length;r+=1){const f=pe(n,l,r);t[r]?(t[r].p(f,i),E(t[r],1)):(t[r]=be(f),t[r].c(),E(t[r],1),t[r].m(e,null))}for(J(),r=l.length;r<t.length;r+=1)c(r);P()}},i(n){if(!s){for(let i=0;i<l.length;i+=1)E(t[i]);s=!0}},o(n){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)y(t[i]);s=!1},d(n){n&&u(e),te(t,n)}}}function be(o){let e,s,l,t,c,n=o[2][o[6]].name+"",i,r,f;function h(...d){return o[5](o[6],...d)}return l=new ce({props:{state:o[2][o[6]].selected?"checked":"unchecked"}}),l.$on("change",h),{c(){e=w("div"),s=w("div"),q(l.$$.fragment),t=M(),c=w("div"),i=j(n),r=M(),this.h()},l(d){e=$(d,"DIV",{class:!0});var k=p(e);s=$(k,"DIV",{class:!0});var a=p(s);K(l.$$.fragment,a),a.forEach(u),t=B(k),c=$(k,"DIV",{class:!0});var m=p(c);i=H(m,n),m.forEach(u),r=B(k),k.forEach(u),this.h()},h(){_(s,"class","self-center flex items-center"),_(c,"class","py-0.5 text-sm w-full capitalize font-medium"),_(e,"class","flex items-center gap-2 mr-3")},m(d,k){V(d,e,k),g(e,s),U(l,s,null),g(e,t),g(e,c),g(c,i),g(e,r),f=!0},p(d,k){o=d;const a={};k&4&&(a.state=o[2][o[6]].selected?"checked":"unchecked"),l.$set(a),(!f||k&4)&&n!==(n=o[2][o[6]].name+"")&&Z(i,n)},i(d){f||(E(l.$$.fragment,d),f=!0)},o(d){y(l.$$.fragment,d),f=!1},d(d){d&&u(e),G(l)}}}function nt(o){let e,s,l,t=o[3].t("Tools")+"",c,n,i,r=o[3].t('To select toolkits here, add them to the "Tools" workspace first.')+"",f,h,d,k,a=o[1].length>0&&ke(o);return{c(){e=w("div"),s=w("div"),l=w("div"),c=j(t),n=M(),i=w("div"),f=j(r),h=M(),d=w("div"),a&&a.c(),this.h()},l(m){e=$(m,"DIV",{});var v=p(e);s=$(v,"DIV",{class:!0});var A=p(s);l=$(A,"DIV",{class:!0});var b=p(l);c=H(b,t),b.forEach(u),A.forEach(u),n=B(v),i=$(v,"DIV",{class:!0});var D=p(i);f=H(D,r),D.forEach(u),h=B(v),d=$(v,"DIV",{class:!0});var T=p(d);a&&a.l(T),T.forEach(u),v.forEach(u),this.h()},h(){_(l,"class","self-center text-sm font-semibold"),_(s,"class","flex w-full justify-between mb-1"),_(i,"class","text-xs dark:text-gray-500"),_(d,"class","flex flex-col")},m(m,v){V(m,e,v),g(e,s),g(s,l),g(l,c),g(e,n),g(e,i),g(i,f),g(e,h),g(e,d),a&&a.m(d,null),k=!0},p(m,[v]){(!k||v&8)&&t!==(t=m[3].t("Tools")+"")&&Z(c,t),(!k||v&8)&&r!==(r=m[3].t('To select toolkits here, add them to the "Tools" workspace first.')+"")&&Z(f,r),m[1].length>0?a?(a.p(m,v),v&2&&E(a,1)):(a=ke(m),a.c(),E(a,1),a.m(d,null)):a&&(J(),y(a,1,1,()=>{a=null}),P())},i(m){k||(E(a),k=!0)},o(m){y(a),k=!1},d(m){m&&u(e),a&&a.d()}}}function rt(o,e,s){let l,{tools:t=[]}=e,c={},{selectedToolIds:n=[]}=e;const i=ee("i18n");R(o,i,f=>s(3,l=f)),oe(()=>{s(2,c=t.reduce((f,h)=>(f[h.id]={...h,selected:n.includes(h.id)},f),{}))});const r=(f,h)=>{s(2,c[f].selected=h.detail==="checked",c),s(0,n=Object.keys(c).filter(d=>c[d].selected))};return o.$$set=f=>{"tools"in f&&s(1,t=f.tools),"selectedToolIds"in f&&s(0,n=f.selectedToolIds)},[n,t,c,l,i,r]}class $t extends le{constructor(e){super(),se(this,e,rt,nt,Y,{tools:1,selectedToolIds:0})}}function we(o,e,s){const l=o.slice();return l[6]=e[s],l[8]=s,l}function $e(o){let e,s,l=N(Object.keys(o[2])),t=[];for(let n=0;n<l.length;n+=1)t[n]=Ee(we(o,l,n));const c=n=>y(t[n],1,1,()=>{t[n]=null});return{c(){e=w("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=$(n,"DIV",{class:!0});var i=p(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(u),this.h()},h(){_(e,"class","flex items-center mt-2 flex-wrap")},m(n,i){V(n,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null);s=!0},p(n,i){if(i&5){l=N(Object.keys(n[2]));let r;for(r=0;r<l.length;r+=1){const f=we(n,l,r);t[r]?(t[r].p(f,i),E(t[r],1)):(t[r]=Ee(f),t[r].c(),E(t[r],1),t[r].m(e,null))}for(J(),r=l.length;r<t.length;r+=1)c(r);P()}},i(n){if(!s){for(let i=0;i<l.length;i+=1)E(t[i]);s=!0}},o(n){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)y(t[i]);s=!1},d(n){n&&u(e),te(t,n)}}}function ot(o){let e=o[2][o[6]].name+"",s;return{c(){s=j(e)},l(l){s=H(l,e)},m(l,t){V(l,s,t)},p(l,t){t&4&&e!==(e=l[2][l[6]].name+"")&&Z(s,e)},d(l){l&&u(s)}}}function Ee(o){let e,s,l,t,c,n,i,r;function f(...h){return o[5](o[6],...h)}return l=new ce({props:{state:o[2][o[6]].selected?"checked":"unchecked"}}),l.$on("change",f),n=new ye({props:{content:o[2][o[6]].meta.description,$$slots:{default:[ot]},$$scope:{ctx:o}}}),{c(){e=w("div"),s=w("div"),q(l.$$.fragment),t=M(),c=w("div"),q(n.$$.fragment),i=M(),this.h()},l(h){e=$(h,"DIV",{class:!0});var d=p(e);s=$(d,"DIV",{class:!0});var k=p(s);K(l.$$.fragment,k),k.forEach(u),t=B(d),c=$(d,"DIV",{class:!0});var a=p(c);K(n.$$.fragment,a),a.forEach(u),i=B(d),d.forEach(u),this.h()},h(){_(s,"class","self-center flex items-center"),_(c,"class","py-0.5 text-sm w-full capitalize font-medium"),_(e,"class","flex items-center gap-2 mr-3")},m(h,d){V(h,e,d),g(e,s),U(l,s,null),g(e,t),g(e,c),U(n,c,null),g(e,i),r=!0},p(h,d){o=h;const k={};d&4&&(k.state=o[2][o[6]].selected?"checked":"unchecked"),l.$set(k);const a={};d&4&&(a.content=o[2][o[6]].meta.description),d&516&&(a.$$scope={dirty:d,ctx:o}),n.$set(a)},i(h){r||(E(l.$$.fragment,h),E(n.$$.fragment,h),r=!0)},o(h){y(l.$$.fragment,h),y(n.$$.fragment,h),r=!1},d(h){h&&u(e),G(l),G(n)}}}function ct(o){let e,s,l,t=o[3].t("Filters")+"",c,n,i,r=o[3].t('To select filters here, add them to the "Functions" workspace first.')+"",f,h,d,k,a=o[1].length>0&&$e(o);return{c(){e=w("div"),s=w("div"),l=w("div"),c=j(t),n=M(),i=w("div"),f=j(r),h=M(),d=w("div"),a&&a.c(),this.h()},l(m){e=$(m,"DIV",{});var v=p(e);s=$(v,"DIV",{class:!0});var A=p(s);l=$(A,"DIV",{class:!0});var b=p(l);c=H(b,t),b.forEach(u),A.forEach(u),n=B(v),i=$(v,"DIV",{class:!0});var D=p(i);f=H(D,r),D.forEach(u),h=B(v),d=$(v,"DIV",{class:!0});var T=p(d);a&&a.l(T),T.forEach(u),v.forEach(u),this.h()},h(){_(l,"class","self-center text-sm font-semibold"),_(s,"class","flex w-full justify-between mb-1"),_(i,"class","text-xs dark:text-gray-500"),_(d,"class","flex flex-col")},m(m,v){V(m,e,v),g(e,s),g(s,l),g(l,c),g(e,n),g(e,i),g(i,f),g(e,h),g(e,d),a&&a.m(d,null),k=!0},p(m,[v]){(!k||v&8)&&t!==(t=m[3].t("Filters")+"")&&Z(c,t),(!k||v&8)&&r!==(r=m[3].t('To select filters here, add them to the "Functions" workspace first.')+"")&&Z(f,r),m[1].length>0?a?(a.p(m,v),v&2&&E(a,1)):(a=$e(m),a.c(),E(a,1),a.m(d,null)):a&&(J(),y(a,1,1,()=>{a=null}),P())},i(m){k||(E(a),k=!0)},o(m){y(a),k=!1},d(m){m&&u(e),a&&a.d()}}}function it(o,e,s){let l;const t=ee("i18n");R(o,t,f=>s(3,l=f));let{filters:c=[]}=e,{selectedFilterIds:n=[]}=e,i={};oe(()=>{s(2,i=c.reduce((f,h)=>(f[h.id]={...h,selected:n.includes(h.id)},f),{}))});const r=(f,h)=>{s(2,i[f].selected=h.detail==="checked",i),s(0,n=Object.keys(i).filter(d=>i[d].selected))};return o.$$set=f=>{"filters"in f&&s(1,c=f.filters),"selectedFilterIds"in f&&s(0,n=f.selectedFilterIds)},[n,c,i,l,t,r]}class Et extends le{constructor(e){super(),se(this,e,it,ct,Y,{filters:1,selectedFilterIds:0})}}function De(o,e,s){const l=o.slice();return l[6]=e[s],l[8]=s,l}function Ie(o){let e,s,l=N(Object.keys(o[2])),t=[];for(let n=0;n<l.length;n+=1)t[n]=Ve(De(o,l,n));const c=n=>y(t[n],1,1,()=>{t[n]=null});return{c(){e=w("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=$(n,"DIV",{class:!0});var i=p(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(u),this.h()},h(){_(e,"class","flex items-center mt-2 flex-wrap")},m(n,i){V(n,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null);s=!0},p(n,i){if(i&5){l=N(Object.keys(n[2]));let r;for(r=0;r<l.length;r+=1){const f=De(n,l,r);t[r]?(t[r].p(f,i),E(t[r],1)):(t[r]=Ve(f),t[r].c(),E(t[r],1),t[r].m(e,null))}for(J(),r=l.length;r<t.length;r+=1)c(r);P()}},i(n){if(!s){for(let i=0;i<l.length;i+=1)E(t[i]);s=!0}},o(n){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)y(t[i]);s=!1},d(n){n&&u(e),te(t,n)}}}function at(o){let e=o[2][o[6]].name+"",s;return{c(){s=j(e)},l(l){s=H(l,e)},m(l,t){V(l,s,t)},p(l,t){t&4&&e!==(e=l[2][l[6]].name+"")&&Z(s,e)},d(l){l&&u(s)}}}function Ve(o){let e,s,l,t,c,n,i,r;function f(...h){return o[5](o[6],...h)}return l=new ce({props:{state:o[2][o[6]].selected?"checked":"unchecked"}}),l.$on("change",f),n=new ye({props:{content:o[2][o[6]].meta.description,$$slots:{default:[at]},$$scope:{ctx:o}}}),{c(){e=w("div"),s=w("div"),q(l.$$.fragment),t=M(),c=w("div"),q(n.$$.fragment),i=M(),this.h()},l(h){e=$(h,"DIV",{class:!0});var d=p(e);s=$(d,"DIV",{class:!0});var k=p(s);K(l.$$.fragment,k),k.forEach(u),t=B(d),c=$(d,"DIV",{class:!0});var a=p(c);K(n.$$.fragment,a),a.forEach(u),i=B(d),d.forEach(u),this.h()},h(){_(s,"class","self-center flex items-center"),_(c,"class","py-0.5 text-sm w-full capitalize font-medium"),_(e,"class","flex items-center gap-2 mr-3")},m(h,d){V(h,e,d),g(e,s),U(l,s,null),g(e,t),g(e,c),U(n,c,null),g(e,i),r=!0},p(h,d){o=h;const k={};d&4&&(k.state=o[2][o[6]].selected?"checked":"unchecked"),l.$set(k);const a={};d&4&&(a.content=o[2][o[6]].meta.description),d&516&&(a.$$scope={dirty:d,ctx:o}),n.$set(a)},i(h){r||(E(l.$$.fragment,h),E(n.$$.fragment,h),r=!0)},o(h){y(l.$$.fragment,h),y(n.$$.fragment,h),r=!1},d(h){h&&u(e),G(l),G(n)}}}function ft(o){let e,s,l,t=o[3].t("Actions")+"",c,n,i,r=o[3].t('To select actions here, add them to the "Functions" workspace first.')+"",f,h,d,k,a=o[1].length>0&&Ie(o);return{c(){e=w("div"),s=w("div"),l=w("div"),c=j(t),n=M(),i=w("div"),f=j(r),h=M(),d=w("div"),a&&a.c(),this.h()},l(m){e=$(m,"DIV",{});var v=p(e);s=$(v,"DIV",{class:!0});var A=p(s);l=$(A,"DIV",{class:!0});var b=p(l);c=H(b,t),b.forEach(u),A.forEach(u),n=B(v),i=$(v,"DIV",{class:!0});var D=p(i);f=H(D,r),D.forEach(u),h=B(v),d=$(v,"DIV",{class:!0});var T=p(d);a&&a.l(T),T.forEach(u),v.forEach(u),this.h()},h(){_(l,"class","self-center text-sm font-semibold"),_(s,"class","flex w-full justify-between mb-1"),_(i,"class","text-xs dark:text-gray-500"),_(d,"class","flex flex-col")},m(m,v){V(m,e,v),g(e,s),g(s,l),g(l,c),g(e,n),g(e,i),g(i,f),g(e,h),g(e,d),a&&a.m(d,null),k=!0},p(m,[v]){(!k||v&8)&&t!==(t=m[3].t("Actions")+"")&&Z(c,t),(!k||v&8)&&r!==(r=m[3].t('To select actions here, add them to the "Functions" workspace first.')+"")&&Z(f,r),m[1].length>0?a?(a.p(m,v),v&2&&E(a,1)):(a=Ie(m),a.c(),E(a,1),a.m(d,null)):a&&(J(),y(a,1,1,()=>{a=null}),P())},i(m){k||(E(a),k=!0)},o(m){y(a),k=!1},d(m){m&&u(e),a&&a.d()}}}function dt(o,e,s){let l;const t=ee("i18n");R(o,t,f=>s(3,l=f));let{actions:c=[]}=e,{selectedActionIds:n=[]}=e,i={};oe(()=>{s(2,i=c.reduce((f,h)=>(f[h.id]={...h,selected:n.includes(h.id)},f),{}))});const r=(f,h)=>{s(2,i[f].selected=h.detail==="checked",i),s(0,n=Object.keys(i).filter(d=>i[d].selected))};return o.$$set=f=>{"actions"in f&&s(1,c=f.actions),"selectedActionIds"in f&&s(0,n=f.selectedActionIds)},[n,c,i,l,t,r]}class Dt extends le{constructor(e){super(),se(this,e,dt,ft,Y,{actions:1,selectedActionIds:0})}}export{Dt as A,Et as F,wt as K,$t as T};
//# sourceMappingURL=ActionsSelector.cLQSv1hM.js.map
